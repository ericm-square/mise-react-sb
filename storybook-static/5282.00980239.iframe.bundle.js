"use strict";(self.webpackChunkmise_react=self.webpackChunkmise_react||[]).push([[5282],{"./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/hasIn-91a6dab9.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>baseGet,c:()=>castPath,h:()=>hasIn,i:()=>isKey,t:()=>toKey});var _Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/_Map-5d7abd2f.js"),_isSymbol_385885b1_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/isSymbol-385885b1.js"),_arrayPush_074dda83_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/_arrayPush-074dda83.js"),_isObject_f305a0d7_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/isObject-f305a0d7.js");var INFINITY$1=1/0,symbolProto=_isObject_f305a0d7_js__WEBPACK_IMPORTED_MODULE_3__.S?_isObject_f305a0d7_js__WEBPACK_IMPORTED_MODULE_3__.S.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(value){if("string"==typeof value)return value;if((0,_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_0__.i)(value))return function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}(value,baseToString)+"";if((0,_isSymbol_385885b1_js__WEBPACK_IMPORTED_MODULE_1__.i)(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY$1?"-0":result}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if((0,_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_0__.i)(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!(0,_isSymbol_385885b1_js__WEBPACK_IMPORTED_MODULE_1__.i)(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||_arrayPush_074dda83_js__WEBPACK_IMPORTED_MODULE_2__.M),memoized}memoize.Cache=_arrayPush_074dda83_js__WEBPACK_IMPORTED_MODULE_2__.M;var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g;const stringToPath$1=function memoizeCapped(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));function castPath(value,object){return(0,_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_0__.i)(value)?value:isKey(value,object)?[value]:stringToPath$1(function toString(value){return null==value?"":baseToString(value)}(value))}var INFINITY=1/0;function toKey(value){if("string"==typeof value||(0,_isSymbol_385885b1_js__WEBPACK_IMPORTED_MODULE_1__.i)(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseHasIn(object,key){return null!=object&&key in Object(object)}function hasIn(object,path){return null!=object&&function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&(0,_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_0__.b)(length)&&(0,_arrayPush_074dda83_js__WEBPACK_IMPORTED_MODULE_2__.i)(key,length)&&((0,_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_0__.i)(object)||(0,_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_0__.a)(object))}(object,path,baseHasIn)}},"./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/identity-db011338.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function identity(value){return value}__webpack_require__.d(__webpack_exports__,{i:()=>identity})},"./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/market-list.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{market_list:()=>MarketList});var _index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/index-fb35cab8.js"),_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/index-2dc281eb.js"),_raf_ac8923ee_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/raf-ac8923ee.js"),_reorderable_ad24a486_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/reorderable-ad24a486.js"),_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/draggable-3c5539a5.js"),_utils_cc39d575_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/utils-cc39d575.js"),_baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/_baseIsEqual-efa577aa.js"),_isObject_f305a0d7_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/isObject-f305a0d7.js"),_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/hasIn-91a6dab9.js"),_identity_db011338_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/identity-db011338.js"),_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/_Map-5d7abd2f.js"),_getTag_40eee50c_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/_getTag-40eee50c.js");__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/_arrayPush-074dda83.js"),__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/_getNative-e422aac7.js"),__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/isSymbol-385885b1.js");function baseIsNaN(value){return value!=value}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&function baseIndexOf(array,value,fromIndex){return value==value?function strictIndexOf(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}(array,baseIsNaN,fromIndex)}(array,value,0)>-1}function isStrictComparable(value){return value==value&&!(0,_isObject_f305a0d7_js__WEBPACK_IMPORTED_MODULE_4__.i)(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}function baseMatches(source){var matchData=function getMatchData(object){for(var result=(0,_baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.k)(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new _baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.S;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?(0,_baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.b)(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return(0,_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__.i)(path)&&isStrictComparable(srcValue)?matchesStrictComparable((0,_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__.t)(path),srcValue):function(object){var objValue=function get(object,path,defaultValue){var result=null==object?void 0:(0,_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__.b)(object,path);return void 0===result?defaultValue:result}(object,path);return void 0===objValue&&objValue===srcValue?(0,_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__.h)(object,path):(0,_baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.b)(srcValue,objValue,3)}}function property(path){return(0,_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__.i)(path)?function baseProperty(key){return function(object){return null==object?void 0:object[key]}}((0,_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__.t)(path)):function basePropertyDeep(path){return function(object){return(0,_hasIn_91a6dab9_js__WEBPACK_IMPORTED_MODULE_5__.b)(object,path)}}(path)}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}const createSet$1=_getTag_40eee50c_js__WEBPACK_IMPORTED_MODULE_7__.S&&1/(0,_baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.s)(new _getTag_40eee50c_js__WEBPACK_IMPORTED_MODULE_7__.S([,-0]))[1]==1/0?function(values){return new _getTag_40eee50c_js__WEBPACK_IMPORTED_MODULE_7__.S(values)}:function noop(){};function uniqBy(array,iteratee){return array&&array.length?function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet$1(array);if(set)return(0,_baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.s)(set);isCommon=!1,includes=_baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.c,seen=new _baseIsEqual_efa577aa_js__WEBPACK_IMPORTED_MODULE_3__.a}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}(array,function baseIteratee(value){return"function"==typeof value?value:null==value?_identity_db011338_js__WEBPACK_IMPORTED_MODULE_11__.i:"object"==typeof value?(0,_Map_5d7abd2f_js__WEBPACK_IMPORTED_MODULE_6__.i)(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}(iteratee)):[]}const MarketList=class{constructor(hostRef){(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.marketListSelectionsDidChange=(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"marketListSelectionsDidChange",7),this.marketListSlotChange=(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"marketListSlotChange",7),this.marketListItemsReordered=(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"marketListItemsReordered",3),this.marketListItemsFiltered=(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"marketListItemsFiltered",7),this.observers={},this.value="",this.interactive=!1,this.transient=!1,this.multiselect=!1,this.name=void 0,this.filterStrategy="textcontent",this.reorderable="off",this.reorderMode="default",this.hideSelectableCount=!1,this.hasSearch=!1,this.items=void 0,this.selections=new Set,this.filteredItems=void 0}reorderableWatcher(){this.setReorderable()}valueWatcher(){this.setSelectionsFromValue()}hideSelectableCountWatcher(){this.injectCountOnControlRow()}rowSelectedEventHandler(e){this.handleItemSelectedEvent(e.target)}rowDeselectedEventHandler(e){this.handleItemDeselectedEvent(e.target)}cardSelectedEventHandler(e){this.handleItemSelectedEvent(e.target)}cardDeselectedEventHandler(e){this.handleItemDeselectedEvent(e.target)}marketInputSearchValueChangeEventHander({detail}){this.filterItems(detail.value)}getEventSelectionDetails(){const prevSelectionValues=(()=>"string"==typeof this.value?this.value?this.value.split(",").filter((value=>!(0,_utils_cc39d575_js__WEBPACK_IMPORTED_MODULE_12__.i)(value))):[]:Array.isArray(this.value)?this.value.filter((value=>!(0,_utils_cc39d575_js__WEBPACK_IMPORTED_MODULE_12__.i)(value))):this.value)(),currentSelections=uniqBy([...this.selections].filter((item=>item!==this.controlRow)),(item=>item.value)),currentSelectionValues=currentSelections.reduce(((items,item)=>((0,_utils_cc39d575_js__WEBPACK_IMPORTED_MODULE_12__.i)(item.value)||items.push(item.value),items)),[]);return{currentSelections,currentSelectionValues,prevSelectionValues}}handleItemSelectedEvent(selectedItem){selectedItem===this.controlRow?this.selectAllItems():this.selectItem(selectedItem);const{currentSelections,currentSelectionValues,prevSelectionValues}=this.getEventSelectionDetails();this.value=currentSelectionValues.join(","),this.marketListSelectionsDidChange.emit({newSelection:selectedItem,newSelectionValue:selectedItem.value,newDeselection:null,newDeselectionValue:null,currentSelections,currentSelectionValues,prevSelectionValues})}handleItemDeselectedEvent(deselectedItem){if(!this.selections.has(deselectedItem))return;if(deselectedItem===this.controlRow){(()=>{var _a,_b;return(null!==(_b=null===(_a=this.filteredItems)||void 0===_a?void 0:_a.visible)&&void 0!==_b?_b:this.items).filter((item=>item!==this.controlRow)).filter((item=>!item.disabled)).every((item=>!item.selected))})()?this.selectAllItems():this.deselectAllItems()}else this.deselectItem(deselectedItem);const{currentSelections,currentSelectionValues,prevSelectionValues}=this.getEventSelectionDetails();this.value=currentSelectionValues.join(","),this.marketListSelectionsDidChange.emit({newSelection:null,newSelectionValue:null,newDeselection:deselectedItem,newDeselectionValue:deselectedItem.value,currentSelections,currentSelectionValues,prevSelectionValues})}selectItem(selectedItem){this.interactive&&(this.multiselect?this.selections.add(selectedItem):(this.deselectItems([selectedItem]),this.selections=new Set([selectedItem])))}selectAllItems(){var _a;if(!this.items||!this.interactive||!this.multiselect)return;const selectableItems=((null===(_a=this.filteredItems)||void 0===_a?void 0:_a.visible)||this.items).filter((item=>!item.disabled));this.selections=new Set([...this.selections.values(),...selectableItems])}deselectItem(deselectedItem){this.selections.delete(deselectedItem)}deselectItems(selectedItems){this.items&&this.items.forEach((item=>{!selectedItems.includes(item)&&item.selected&&item.deselect()}))}deselectAllItems(){var _a,_b;if(!this.selections||!this.interactive)return;const visibleItemsSet=new Set(null!==(_b=null===(_a=this.filteredItems)||void 0===_a?void 0:_a.visible)&&void 0!==_b?_b:this.items),selectedItemsToKeep=[...this.selections].filter((selectedItem=>selectedItem.disabled||!visibleItemsSet.has(selectedItem)));this.selections=new Set(selectedItemsToKeep)}syncListInteractiveWithItems(){this.items.length>0&&(this.items[0].tagName===(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-action-card").toUpperCase()||this.items[0].tagName===(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-row").toUpperCase()&&!0===this.items[0].interactive)&&!this.interactive&&(this.interactive=!0)}processItems(){this.items.forEach((item=>{if(item.tagName===(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-action-card").toUpperCase()){item.transient=this.transient;const cardRow=item.querySelector((0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-row"));cardRow&&this.setRowProperties(cardRow)}else this.setRowProperties(item)}))}getCurrentSelectionValues(){return Array.isArray(this.value)?new Set(this.value):new Set(this.multiselect?this.value.split(","):[this.value])}setRowProperties(row){row.interactive=this.interactive,row.transient=this.transient,row.togglable=this.multiselect}setSelectionsFromValue(){var _a;if(this.value||""===this.value){const values=this.getCurrentSelectionValues();null===(_a=this.items)||void 0===_a||_a.forEach((item=>{item!==this.controlRow&&(!(0,_utils_cc39d575_js__WEBPACK_IMPORTED_MODULE_12__.i)(this.value)&&values.has(item.value)?(item.silentlySelect(),this.selectItem(item)):(item.silentlyDeselect(),this.deselectItem(item)))}))}}setSelectionsFromRowAttributes(){const initialSelections=new Set;this.items.forEach((item=>{item.selected&&initialSelections.add(item)})),this.selections=initialSelections}setInternalState(){this.items=[...this.el.querySelectorAll(`:scope > ${(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-row")}, :scope > ${(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-action-card")}`)],this.syncListInteractiveWithItems(),this.processItems(),this.items.length>0&&(this.value?this.setSelectionsFromValue():this.setSelectionsFromRowAttributes())}async syncControlRowWithSelections(){var _a,_b;if(!this.controlRow)return;const slottedControl=this.controlRow.querySelector('[slot="control"]'),isCheckbox=slottedControl.tagName.toLowerCase()===(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-checkbox"),items=(null!==(_b=null===(_a=this.filteredItems)||void 0===_a?void 0:_a.visible)&&void 0!==_b?_b:this.items).filter((item=>item!==this.controlRow));switch(items.every((item=>item.selected))?"checked":items.some((item=>item.selected))?"indeterminate":"unchecked"){case"unchecked":this.deselectItem(this.controlRow),await this.controlRow.silentlyDeselect(),await(0,_raf_ac8923ee_js__WEBPACK_IMPORTED_MODULE_14__.a)(),slottedControl.removeAttribute("indeterminate");break;case"checked":await this.controlRow.silentlySelect(),this.selectItem(this.controlRow),slottedControl.removeAttribute("indeterminate");break;case"indeterminate":isCheckbox?(await this.controlRow.silentlySelect(),this.selectItem(this.controlRow),await(0,_raf_ac8923ee_js__WEBPACK_IMPORTED_MODULE_14__.a)(),slottedControl.setAttribute("indeterminate","")):(await this.controlRow.silentlyDeselect(),this.deselectItem(this.controlRow))}this.injectCountOnControlRow()}injectCountOnControlRow(){if(!this.controlRow)return;const countAccessoryEl=this.controlRow.querySelector('.count[slot="trailing-accessory"]');if(this.hideSelectableCount)return void(countAccessoryEl&&this.controlRow.removeChild(countAccessoryEl));const count=this.filteredItems.visible.filter((item=>!item.disabled)).length;if(countAccessoryEl)countAccessoryEl.textContent=`${count}`;else{const newEl=document.createElement("span");newEl.classList.add("count"),newEl.setAttribute("slot","trailing-accessory"),newEl.textContent=`${count}`,this.controlRow.appendChild(newEl)}}filterItems(query){var _a;const filteredItems=this.items.reduce(((filteredItems,item)=>{var _a,_b,_c,_d,_e,_f,_g,_h,_j;if("control-row"===item.getAttribute("slot"))return filteredItems;if(!query)return filteredItems.visible.push(item),filteredItems;if("function"==typeof this.filterStrategy){if(this.filterStrategy({item,label:null===(_a=item.querySelector('[slot="label"]'))||void 0===_a?void 0:_a.textContent,query,textContent:item.textContent,value:item.value}))return filteredItems.visible.push(item),filteredItems}else if("textcontent"===(null===(_c=null===(_b=this.filterStrategy)||void 0===_b?void 0:_b.toLocaleLowerCase)||void 0===_c?void 0:_c.call(_b))){if((null===(_d=null==item?void 0:item.textContent)||void 0===_d?void 0:_d.search(new RegExp(query,"i")))>=0)return filteredItems.visible.push(item),filteredItems}else if("label"===(null===(_f=null===(_e=this.filterStrategy)||void 0===_e?void 0:_e.toLocaleLowerCase)||void 0===_f?void 0:_f.call(_e))){const labelEl=item.querySelector('[slot="label"]');if((null===(_g=null==labelEl?void 0:labelEl.textContent)||void 0===_g?void 0:_g.search(new RegExp(query,"i")))>=0)return filteredItems.visible.push(item),filteredItems}else if("value"===(null===(_j=null===(_h=this.filterStrategy)||void 0===_h?void 0:_h.toLocaleLowerCase)||void 0===_j?void 0:_j.call(_h))){if(String(item.value).search(new RegExp(query))>=0)return filteredItems.visible.push(item),filteredItems}return filteredItems.hidden.push(item),filteredItems}),{visible:[],hidden:[],visibleSelected:[],selected:[]});requestAnimationFrame((()=>{var _a;if(filteredItems.visible.forEach((item=>item.classList.remove("hidden"))),filteredItems.hidden.forEach((item=>item.classList.add("hidden"))),this.items.forEach((item=>item.classList.remove("hide-bottom-border"))),filteredItems.visible.length>0){filteredItems.visible[filteredItems.visible.length-1].classList.add("hide-bottom-border")}null===(_a=this.controlRow)||void 0===_a||_a.classList.toggle("hidden",0===filteredItems.visible.length)})),(this.filteredItems||!this.filteredItems&&query)&&this.marketListItemsFiltered.emit({items:filteredItems.visible,prevItems:null===(_a=this.filteredItems)||void 0===_a?void 0:_a.visible}),this.filteredItems=filteredItems,this.updateSelectedItemsInFilteredItems()}updateSelectedItemsInFilteredItems(){this.filteredItems&&(this.filteredItems.selected=this.items.filter((item=>"control-row"!==item.getAttribute("slot")&&item.selected)),this.filteredItems.visibleSelected=this.filteredItems.visible.filter((item=>"control-row"!==item.getAttribute("slot")&&item.selected)))}handleSearchSlotchange(){var _a;this.inputSearchEl=this.el.querySelector('[slot="search"]'),this.hasSearch=Boolean(this.inputSearchEl),this.filterItems(null===(_a=this.inputSearchEl)||void 0===_a?void 0:_a.value)}defaultSlotchangeHandler(){var _a;this.setInternalState(),this.filterItems(null===(_a=this.inputSearchEl)||void 0===_a?void 0:_a.value),this.setReorderable(),this.marketListSlotChange.emit()}controlRowSlotchangeHandler(){if(!this.interactive||!this.multiselect)return;const slottedRow=this.el.querySelector('[slot="control-row"]'),slottedControl=null==slottedRow?void 0:slottedRow.querySelector('[slot="control"]');this.controlRow=(0,_utils_cc39d575_js__WEBPACK_IMPORTED_MODULE_12__.a)(slottedControl)?slottedRow:void 0}setEmptyStateVisibility(){var _a,_b;const emptyStateEl=this.el.querySelector('[slot="empty-state"]')||this.el.shadowRoot.querySelector((0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-empty-state")),willShowEmptyState=(null===(_a=this.inputSearchEl)||void 0===_a?void 0:_a.value)&&!(null===(_b=this.filteredItems)||void 0===_b?void 0:_b.visible.length);null==emptyStateEl||emptyStateEl.classList.toggle("hidden",!willShowEmptyState)}initItemDisabledAttributeObserver(){this.observers.itemDisabledAttribute||(this.observers.itemDisabledAttribute=new MutationObserver((mutations=>{for(const mutation of mutations)mutation.target.parentElement===this.el&&"attributes"===mutation.type&&"disabled"===mutation.attributeName&&this.injectCountOnControlRow()})),this.observers.itemDisabledAttribute.observe(this.el,{attributes:!0,attributeFilter:["disabled"],childList:!0,subtree:!0}))}connectedCallback(){this.syncControlRowWithSelections()}componentWillLoad(){var _a;this.setInternalState(),this.filterItems(null===(_a=this.inputSearchEl)||void 0===_a?void 0:_a.value)}componentWillRender(){this.syncListInteractiveWithItems(),this.processItems(),this.updateSelectedItemsInFilteredItems(),this.controlRowSlotchangeHandler(),this.syncControlRowWithSelections(),this.setEmptyStateVisibility()}componentDidLoad(){this.initItemDisabledAttributeObserver()}disconnectedCallback(){var _a;null===(_a=this.observers.itemDisabledAttribute)||void 0===_a||_a.disconnect()}handleKeydown(e){switch(e.key){case"ArrowDown":this.handleArrowDown(e);break;case"ArrowUp":this.handleArrowUp(e)}}handleArrowDown(e){const focused=document.querySelector(":focus"),prevFocusedRowIndex=[...this.items].indexOf(focused);if(-1!==prevFocusedRowIndex){for(let i=prevFocusedRowIndex+1;i<this.items.length;i++)if(!this.items[i].disabled){this.items[i].focus();break}e.preventDefault()}}handleArrowUp(e){const focused=document.querySelector(":focus"),prevFocusedRowIndex=[...this.items].indexOf(focused);if(-1!==prevFocusedRowIndex){for(let i=prevFocusedRowIndex-1;i>=0;i--)if(!this.items[i].disabled){this.items[i].focus();break}e.preventDefault()}}async focusRowAtIndex(index){const row=this.items[index];return row?(row.focus(),Promise.resolve()):Promise.reject(new Error(`Row at index ${index} not found`))}setReorderable(){const{el,items,controlRow,reorderable,reorderMode,reorder,marketListItemsReordered}=this;"off"===reorderable?(null==reorder||reorder.destroy(),this.reorder=null):reorder||(this.reorder=new _reorderable_ad24a486_js__WEBPACK_IMPORTED_MODULE_1__.R({el,accepts:[`${(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-row")}:not([slot="control"])`],event:marketListItemsReordered,mode:reorderMode})),null==items||items.forEach((item=>{(0,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_2__.i)(item)&&item!==controlRow&&(item.dragEnabled="off"!==reorderable)}))}onDragMove(e){var _a;null===(_a=this.reorder)||void 0===_a||_a.dragMove(e)}onDragLeave(){var _a;null===(_a=this.reorder)||void 0===_a||_a.dragLeave()}onDragEnd(e){var _a;null===(_a=this.reorder)||void 0===_a||_a.dragEnd(e)}onDragDrop(e){var _a;null===(_a=this.reorder)||void 0===_a||_a.dragDrop(e)}componentDidRender(){this.setReorderable()}render(){var _a;const MarketEmptyState=(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_13__.g)("market-empty-state");return(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.H,{key:"f17a275017f31dbb76e784c3d9baba3acaccc8ea",class:"market-list",role:this.interactive?"listbox":"list","aria-labelledby":this.name,"aria-multiselectable":this.multiselect,"has-search":this.hasSearch,onKeydown:e=>this.handleKeydown(e),onMarketDragMove:e=>this.onDragMove(e),onMarketDragLeave:()=>this.onDragLeave(),onMarketDragEnd:e=>this.onDragEnd(e),onMarketDragDrop:e=>this.onDragDrop(e)},(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"48bb440dbf2d8d72b99ac2b505b21af0ce635f91",name:"search",onSlotchange:()=>this.handleSearchSlotchange()}),(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"221ca2f236089caeec0ee56115427c15ea51eb0b",name:"control-row",onSlotchange:()=>this.controlRowSlotchangeHandler()}),(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"24eec9af1c055a61c4b1eb56134743929454b725",onSlotchange:()=>this.defaultSlotchangeHandler()}),(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"49fa5c373360d8c5de182377902364c2fc76fab8",name:"empty-state"},(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)(MarketEmptyState,{key:"ca6c84fd1a49701e2f13bd8ecf7c05d7cd00262e",class:"hidden"},(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{key:"c599bae3c172058eccf581aef09c57137a71eb3d",height:"40",slot:"media",viewBox:"0 0 40 40",width:"40",xmlns:"http://www.w3.org/2000/svg"},(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{key:"aabf094159a64ecf35d4e6b6d10052321783cadf",d:"M34.4667 17.2L28.1 10.8333H26.6667C26.6667 9.45 25.55 8.33333 24.1667 8.33333C22.7834 8.33333 21.6667 9.45 21.6667 10.8333H18.3334C18.3334 9.45 17.2167 8.33333 15.8334 8.33333C14.45 8.33333 13.3334 9.45 13.3334 10.8333H11.9L5.53337 17.2C4.11671 18.6167 3.33337 20.5 3.33337 22.5C3.33337 26.6333 6.70004 30 10.8334 30C14.8 30 18.0167 26.9 18.2834 23.0167C18.8167 23.2167 19.4 23.3333 20 23.3333C20.6 23.3333 21.1834 23.2167 21.7167 23.0167C21.9834 26.9 25.2 30 29.1667 30C33.3 30 36.6667 26.6333 36.6667 22.5C36.6667 20.5 35.8834 18.6167 34.4667 17.2ZM10.8334 26.6667C8.53337 26.6667 6.66671 24.8 6.66671 22.5C6.66671 21.3833 7.10004 20.3333 7.88337 19.55C8.66671 18.7667 9.71671 18.3333 10.8334 18.3333C13.1334 18.3333 15 20.2 15 22.5C15 24.8 13.1334 26.6667 10.8334 26.6667ZM15.35 16.55C14.4667 15.8833 13.4334 15.3833 12.3 15.15L13.2667 14.1667H17.2334C16.3834 14.7333 15.7167 15.5667 15.35 16.55ZM20 20C19.0834 20 18.3334 19.25 18.3334 18.3333C18.3334 17.4167 19.0834 16.6667 20 16.6667C20.9167 16.6667 21.6667 17.4167 21.6667 18.3333C21.6667 19.25 20.9167 20 20 20ZM22.75 14.1667H26.7167L27.7 15.15C26.5667 15.3833 25.5334 15.8833 24.65 16.55C24.2834 15.5667 23.6167 14.7333 22.75 14.1667ZM29.1667 26.6667C26.8667 26.6667 25 24.8 25 22.5C25 20.2 26.8667 18.3333 29.1667 18.3333C30.2834 18.3333 31.3334 18.7667 32.1167 19.55C32.9 20.3333 33.3334 21.3833 33.3334 22.5C33.3334 24.8 31.4667 26.6667 29.1667 26.6667Z",fill:"var(--core-text-10-color)","fill-opacity":"0.9"})),(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("h3",{key:"e60257bed93133dc7c5e160bfbc56241141d0bb4",slot:"primary-text"},(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"1ab4dcd6f13250014312b4cdd35fd825c866f2d7",name:"empty-state-primary-text"},"No search results for “",null===(_a=this.inputSearchEl)||void 0===_a?void 0:_a.value,"”")),(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("p",{key:"c20c1039f5118d14391abf213038775aed678733",slot:"secondary-text"},(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"69184906c3584e901da11d005fdf3c056fcd8108",name:"empty-state-secondary-text"},"Try a different search.")))))}get el(){return(0,_index_fb35cab8_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}static get watchers(){return{reorderable:["reorderableWatcher"],value:["valueWatcher"],hideSelectableCount:["hideSelectableCountWatcher"]}}};MarketList.style=":host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}:host{display:block}::slotted(.market-action-card){margin-bottom:var(--action-card-spacing)}::slotted(.market-input-search){margin-bottom:var(--core-metrics-spacing-100)}.hidden,::slotted(.hidden){display:none}::slotted(.market-row.hide-bottom-border)::before{display:none}.market-empty-state,::slotted(.market-empty-state){padding-right:0;padding-left:0;border:0}::slotted(.market-drag-cursor){--drag-cursor-height:4px;display:block;height:0;outline:calc(var(--drag-cursor-height) / 2) solid var(--core-emphasis-fill-color);pointer-events:none}"},"./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/reorderable-ad24a486.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>Reorderable});var _a,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/draggable-3c5539a5.js"),_raf_ac8923ee_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/raf-ac8923ee.js");function isReorderable(value){return Boolean(value&&["internal","external"].includes(value.reorderable))}class Reorderable{static createCursor(){const cursor=document.createElement("div");return cursor.classList.add("market-drag-cursor"),cursor}constructor({el,accepts,event,mode}){this.el=el,this.accepts=accepts,this.event=event,this.mode=mode}isValidDrag(dragged,source,target){const{el,accepts}=this,reorderableSource=null==source?void 0:source.closest('[reorderable="internal"], [reorderable="external"]'),reorderableTarget=null==target?void 0:target.closest('[reorderable="internal"], [reorderable="external"]');if(!(0,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_0__.i)(dragged))return!1;if(!isReorderable(reorderableSource))return!1;if(!isReorderable(reorderableTarget))return!1;if(dragged.closest(accepts.join(","))!==dragged)return!1;if(el!==reorderableSource&&el!==reorderableTarget)return!1;if(reorderableSource!==reorderableTarget){const bothExternal="external"===reorderableSource.reorderable&&"external"===reorderableTarget.reorderable,closestReorderable=function getCommonAncestor(node1,node2){let node=node1;for(;node;){if(node.contains(node2))return node;node=node.parentElement}return null}(reorderableSource,reorderableTarget).closest('[reorderable="internal"], [reorderable="external"]');if(!bothExternal&&!closestReorderable)return!1}return!0}dragMove(e){var _b,_c;const{el,accepts,tableGroupExpandTimeout}=this,{y,el:dragged,source,target}=e.detail,{cursor}=_a;if(!this.isValidDrag(dragged,source,target))return;if(clearTimeout(tableGroupExpandTimeout),null===(_b=cursor.parentElement)||void 0===_b||_b.classList.remove("market-drag-cursor-parent"),target===el)return el.append(cursor),void el.classList.add("market-drag-cursor-parent");const targetSibling=target.closest(accepts.join(","));if(targetSibling&&targetSibling!==dragged){if((0,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_0__.a)(targetSibling)){const parent=[...targetSibling.children].find((el=>(0,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_0__.b)(el)&&"parent"===el.slot)),{top,height}=parent.getBoundingClientRect();if(targetSibling.collapsible&&targetSibling.collapsed){const oneThird=Math.round(top+height/3),twoThirds=Math.round(top+2*height/3);if(y<oneThird)targetSibling.before(cursor);else if(y>twoThirds)targetSibling.after(cursor);else{parent.after(cursor);const children=[...targetSibling.children].filter((el=>((0,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_0__.b)(el)||(0,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_0__.a)(el))&&!el.slot));children.length>0&&(this.tableGroupExpandTimeout=setTimeout((async()=>{await targetSibling.setCollapsed(!1),await(0,_raf_ac8923ee_js__WEBPACK_IMPORTED_MODULE_1__.a)(),parent.after(cursor)}),300))}}else{y<Math.round(top+height/2)?targetSibling.before(cursor):parent.after(cursor)}}else{const{top,height}=targetSibling.getBoundingClientRect();y<Math.round(top+height/2)?targetSibling.before(cursor):targetSibling.after(cursor)}null===(_c=cursor.parentElement)||void 0===_c||_c.classList.add("market-drag-cursor-parent")}}dragLeave(){var _b;const{tableGroupExpandTimeout}=this,{cursor}=_a;null===(_b=cursor.parentElement)||void 0===_b||_b.classList.remove("market-drag-cursor-parent"),cursor.remove(),clearTimeout(tableGroupExpandTimeout)}dragEnd(e){const{el,accepts,event,tableGroupExpandTimeout}=this,{el:dragged,source}=e.detail,{cursor}=_a;clearTimeout(tableGroupExpandTimeout);const target=cursor.parentElement;if(!this.isValidDrag(dragged,source,target))return;if((null==source?void 0:source.closest('[reorderable="internal"], [reorderable="external"]'))===(null==target?void 0:target.closest('[reorderable="internal"], [reorderable="external"]')))return;e.stopImmediatePropagation();const oldIndex=getReorderableItems(el,accepts).indexOf(dragged),{defaultPrevented}=event.emit({item:dragged,oldIndex,newIndex:-1});defaultPrevented&&(e.preventDefault(),cursor.remove())}async dragDrop(e){const{el,accepts,event,mode,tableGroupExpandTimeout}=this,{el:dragged,source}=e.detail,{cursor}=_a;clearTimeout(tableGroupExpandTimeout);const reorderableTarget=cursor.parentElement;if(el!==reorderableTarget)return;if(!this.isValidDrag(dragged,source,reorderableTarget))return;if(e.stopImmediatePropagation(),null==reorderableTarget||reorderableTarget.classList.remove("market-drag-cursor-parent"),[cursor.previousElementSibling,cursor.nextElementSibling].includes(dragged))return void cursor.remove();const items=getReorderableItems(reorderableTarget,accepts),oldIndex=items.indexOf(dragged),itemsWithoutDraggedEl=[...items];oldIndex>=0&&itemsWithoutDraggedEl.splice(oldIndex,1);const newIndex=itemsWithoutDraggedEl.indexOf(cursor.previousElementSibling)+1;if(newIndex===oldIndex)return void cursor.remove();const originalPosition=document.createElement("div");dragged.replaceWith(originalPosition),cursor.replaceWith(dragged),await new Promise((resolve=>dragged.addEventListener("marketDragComplete",resolve,{once:!0}))),"framework"===mode&&originalPosition.replaceWith(dragged);const{defaultPrevented}=event.emit({item:dragged,oldIndex,newIndex});defaultPrevented&&"default"===mode&&originalPosition.replaceWith(dragged),originalPosition.remove()}destroy(){_a.cursor.remove(),clearTimeout(this.tableGroupExpandTimeout),this.el=null,this.accepts=null,this.event=null,this.mode=null,this.tableGroupExpandTimeout=null}}function getReorderableItems(el,accepts){const items=[],scopedSelectors=accepts.map((selector=>`:scope > ${selector}`));return el.querySelectorAll(scopedSelectors.join(",")).forEach((item=>{(0,_draggable_3c5539a5_js__WEBPACK_IMPORTED_MODULE_0__.i)(item)&&items.push(item)})),items}_a=Reorderable,Reorderable.cursor=_a.createCursor()},"./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/utils-cc39d575.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>isValidControl,i:()=>isValueEmpty});var _index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@market+web-components@6.12.0/node_modules/@market/web-components/dist/esm/index-2dc281eb.js");function isValueEmpty(value){return""===value||null==value}function isValidControl(control){var _a;if(!control)return!1;const tagName=null===(_a=control.tagName)||void 0===_a?void 0:_a.toLocaleLowerCase();return[(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_0__.g)("market-checkbox").toLocaleLowerCase(),(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_0__.g)("market-radio").toLocaleLowerCase(),(0,_index_2dc281eb_js__WEBPACK_IMPORTED_MODULE_0__.g)("market-toggle").toLocaleLowerCase()].includes(tagName)}}}]);