import{r as d,c as n,h as o,H as g,g as h}from"./preview-BLkU8-7b.js";import{g as i}from"./index-2dc281eb-DCayfYZh.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";function s(e){var t;const r=(t=e==null?void 0:e.tagName)===null||t===void 0?void 0:t.toLowerCase();return!!(e&&r===i("market-checkbox"))}function b(e){var t;const r=(t=e==null?void 0:e.tagName)===null||t===void 0?void 0:t.toLowerCase();return!!(e&&r===i("market-toggle"))}function v(e){return s(e)||b(e)}const u=`:host,*{box-sizing:border-box}:host{--table-cell-vertical-padding-size:var(--core-metrics-spacing-150);--table-cell-horizontal-padding-size:var(--core-metrics-spacing-100);--table-cell-horizontal-spacing-size:var(--core-metrics-spacing-150);--table-cell-border-width:1px;--table-cell-heading-border-color:var(--core-divider-10-color);--table-cell-state-normal-background-color:var(--core-surface-10-color);--table-cell-hover-state-background-color:var(--core-fill-50-color);--table-cell-focus-state-background-color:var(--core-fill-50-color);--table-cell-pressed-state-background-color:var(--core-emphasis-40-color);--table-cell-disabled-state-text-color:var(--core-text-30-color);--table-cell-indent-level:0;--table-cell-indent-size:var(--core-metrics-spacing-500);--table-cell-caret-size:var(--core-metrics-spacing-500);--table-cell-text-font-weight:var(--core-type-paragraph-20-weight);--table-cell-text-font-size:var(--core-type-paragraph-20-size);--table-cell-text-line-height:var(--core-type-paragraph-20-leading);--table-cell-focus-ring-color:color-mix(in srgb, var(--core-focus-ring-color) 50%, transparent);display:table-cell;vertical-align:inherit;width:auto;padding:var(--table-cell-vertical-padding-size) var(--table-cell-horizontal-padding-size);border-bottom:var(--table-cell-border-width) solid var(--table-cell-border-color);outline:none;font-weight:var(--table-cell-text-font-weight);font-size:var(--table-cell-text-font-size);line-height:var(--table-cell-text-line-height);text-align:inherit}:host .content-outer{display:flex;gap:var(--table-cell-horizontal-spacing-size);justify-content:space-between;align-items:center;width:100%;transition-timing-function:var(--core-animation-move-transition-easing);transition-duration:var(--core-animation-move-transition-moderate-speed-duration);transition-property:gap}:host .content-inner{display:flex;gap:var(--table-cell-horizontal-spacing-size);align-items:center;width:100%}:host .default-slot{width:100%}:host([indent]:not([indent="0"])){padding-left:calc(
        var(--table-cell-horizontal-spacing-size) + var(--table-cell-indent-level) * var(--table-cell-indent-size)
      )}:host([indent][caret]:not([indent="0"])){padding-left:calc(
        var(--table-cell-horizontal-padding-size) + var(--table-cell-indent-level) * var(--table-cell-indent-size)
      )}:host([nowrap]) .default-slot{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host([align="left"]){text-align:left}:host([align="center"]){text-align:center}:host([align="right"]){text-align:right}:host([valign="top"]){vertical-align:top}:host([valign="middle"]){vertical-align:middle}:host([valign="bottom"]){vertical-align:bottom}:host([sticky]){position:sticky;z-index:2;background-color:var(--table-cell-state-normal-background-color)}:host([sticky="left"]){left:0;border-right:var(--table-cell-border-width) solid var(--table-cell-heading-border-color)}:host([sticky="right"]){right:0;border-left:var(--table-cell-border-width) solid var(--table-cell-heading-border-color)}:host(.market-drag-clone-first-cell){padding-left:var(--table-cell-horizontal-padding-size) !important}:host(.market-drag-clone-first-cell) .content-outer{gap:0}:host(.market-drag-clone-first-cell) .caret-button,:host(.market-drag-clone-first-cell) ::slotted([slot="control"]){width:0;height:0;opacity:0%}::slotted([slot="control"]),::slotted([slot="leading-accessory"]),::slotted([slot="trailing-accessory"]){flex-shrink:0}.caret-button,::slotted([slot="control"]){transition-timing-function:var(--core-animation-move-transition-easing);transition-duration:var(--core-animation-move-transition-moderate-speed-duration);transition-property:width, height, opacity}:host([interactive]){cursor:pointer}@media (hover: hover){:host([sortable]:hover),:host([interactive]:hover){background-color:var(--table-cell-hover-state-background-color)}}:host([sortable]:focus),:host([interactive]:focus){background-color:var(--table-cell-focus-state-background-color)}:host([active]),:host([sortable]:active),:host([interactive]:active){background-color:var(--table-cell-pressed-state-background-color)}:host([disabled]){color:var(--table-cell-disabled-state-text-color);pointer-events:none}.caret-button{display:flex;flex-shrink:0;justify-content:center;align-items:center;width:var(--table-cell-caret-size);height:var(--table-cell-caret-size);margin-top:calc(var(--table-cell-vertical-padding-size) * -1);margin-bottom:calc(var(--table-cell-vertical-padding-size) * -1);margin-left:calc(var(--table-cell-horizontal-padding-size) * -1);padding:0;border:none;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.caret-button svg{display:block;fill:var(--core-fill-20-color);transition:0.2s transform ease}:host([caret="up"]) .caret-button svg{transform:rotate(-180deg)}.caret-button:focus-visible{border-radius:var(--core-radius-10);outline:var(--core-focus-ring-border-size) solid var(--table-cell-focus-ring-color);outline-offset:calc(var(--core-focus-ring-border-size) * -1)}.sort-button{display:flex;flex-shrink:0;gap:var(--core-metrics-spacing-50);align-items:center;width:100%;margin:0;padding:var(--table-cell-vertical-padding-size) var(--table-cell-horizontal-padding-size);border:none;background:transparent;outline:none;font-weight:inherit;font-size:inherit;font-family:inherit;line-height:inherit;text-align:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.sort-button svg{display:block;flex-shrink:0;fill:var(--core-text-30-color)}.sort-button:focus-visible{border-radius:var(--core-radius-10);outline:var(--core-focus-ring-border-size) solid var(--table-cell-focus-ring-color);outline-offset:calc(var(--core-focus-ring-border-size) * -1)}:host([align="left"]) .sort-button{justify-content:start}:host([align="center"]) .sort-button{justify-content:center}:host([align="right"]) .sort-button{justify-content:end}:host([sortable]){padding:0}:host([sortable][sort-order="ascending"]) .sort-button svg,:host([sortable][sort-order="descending"]) .sort-button svg{fill:var(--core-text-10-color)}`,f=u,p=class{constructor(e){d(this,e),this.marketTableV2CellCaretClicked=n(this,"marketTableV2CellCaretClicked",7),this.marketTableV2CellSortClicked=n(this,"marketTableV2CellSortClicked",7),this.marketInternalTableV2CellSelectionChange=n(this,"marketInternalTableV2CellSelectionChange",7),this.active=!1,this.align=void 0,this.caret=void 0,this.caretAriaLabelExpanded="Group of rows is expanded: click to collapse",this.caretAriaLabelCollapsed="Group of rows is collapsed: click to expand",this.disabled=!1,this.indent=void 0,this.interactive=!1,this.nowrap=!1,this.selected="false",this.sticky=void 0,this.sortable=void 0,this.sortAriaLabelAscending="Sorted ascending: click to sort descending",this.sortAriaLabelDescending="Sorted descending: click to sort ascending",this.sortAriaLabelNone="Not sorted: click to sort ascending",this.sortOrder="none",this.sortStrategy=void 0,this.sortStrategyFormat=void 0,this.valign=void 0}onKeydown(e){const{target:t,key:r}=e,{el:a,disabled:l,interactive:c}=this;l||c&&t===a&&(r==="Enter"||r===" ")&&(e.preventDefault(),a.click())}async onMarketControlSelectionChange(e){const{control:t}=this,{target:r,detail:a}=e;if(r!==t)return;const l=a.current?"true":"false";await this.setSelected(l)}async setSelected(e,{silent:t=!1}={}){const{marketInternalTableV2CellSelectionChange:r,selected:a}=this;return a===e||(t||r.emit({current:e,previous:a}),this.selected=e,await this.setControlSelected(e)),Promise.resolve()}async setControlSelected(e){const{control:t}=this;t&&(await t.setSelection(e==="true",{silent:!0}),s(t)&&await t.setIndeterminate(e==="indeterminate"))}getTabIndex(){const{disabled:e,interactive:t}=this;return t&&!e?"0":null}getStyles(){const{indent:e}=this;return!e||e<1?{}:{"--table-cell-indent-level":e.toString()}}getSortButtonLabel(){const{sortOrder:e,sortAriaLabelAscending:t,sortAriaLabelDescending:r,sortAriaLabelNone:a}=this;switch(e){case"ascending":return t;case"descending":return r;default:return a}}onCaretClick(e){e.stopPropagation(),this.marketTableV2CellCaretClicked.emit()}onSortClick(){const{sortOrder:e,marketTableV2CellSortClicked:t}=this,r=e||"none",a=r==="ascending"?"descending":"ascending",{defaultPrevented:l}=t.emit({current:a,previous:r});l||(this.sortOrder=a)}async syncControlState(){const{el:e,selected:t}=this,r=e.querySelector('[slot="control"]');v(r)&&(this.control=r,t&&await this.setControlSelected(t))}async connectedCallback(){await this.syncControlState()}renderCaretButton(){return o("button",{class:"caret-button","aria-label":this.caret==="down"?this.caretAriaLabelCollapsed:this.caretAriaLabelExpanded,onClick:e=>this.onCaretClick(e)},o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.70715 11.7071C8.31663 12.0976 7.68346 12.0976 7.29294 11.7071L1.29294 5.70711L2.70715 4.29289L8.00005 9.58579L13.2929 4.29289L14.7072 5.70711L8.70715 11.7071Z"})))}renderSortAscendingSvg(){return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.52861 2.86177C7.78895 2.60142 8.21107 2.60142 8.47141 2.86177L13.1381 7.52843L12.1953 8.47124L8.66668 4.94265L8.66668 12.6665H7.33334V4.94265L3.80475 8.47124L2.86194 7.52843L7.52861 2.86177Z"}))}renderSortDecendingSvg(){return o("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.47129 13.1382C8.21094 13.3986 7.78883 13.3986 7.52848 13.1382L2.86182 8.47157L3.80463 7.52876L7.33322 11.0574L7.33322 3.3335L8.66655 3.3335L8.66655 11.0574L12.1952 7.52876L13.138 8.47157L8.47129 13.1382Z"}))}renderSortNoneSvg(){return o("svg",{width:"16",height:"17",viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg"},o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.8633 14.31L8.19664 11.6434L9.1433 10.7034L10.67 12.23L10.67 3.17002L12.0033 3.17002L12.0033 12.23L13.53 10.7034L14.47 11.6434L11.8033 14.31C11.5433 14.57 11.1233 14.57 10.8633 14.31ZM2.46997 6.30338L1.52997 5.36338L4.19664 2.69671C4.45664 2.43671 4.87664 2.43671 5.13664 2.69671L7.8033 5.36338L6.8633 6.30338L5.33664 4.77671L5.33664 13.8367L4.0033 13.8367L4.0033 4.77671L2.46997 6.30338Z"}))}renderSortSvg(){switch(this.sortOrder){case"ascending":return this.renderSortAscendingSvg();case"descending":return this.renderSortDecendingSvg();default:return this.renderSortNoneSvg()}}render(){var e;const{el:t,caret:r,sortable:a,sortOrder:l}=this;return o(g,{key:"af646078fef6665d85a5af7edc03832c0744c06b",role:(e=t.role)!==null&&e!==void 0?e:"cell",tabindex:this.getTabIndex(),style:this.getStyles(),class:"market-table-v2-cell","sort-order":l!=="none"?l:null,"aria-sort":l!=="none"?l:null},o("div",{key:"e5e50c0ec5fb4bf9d79df4b798a5391ff03e0c6b",class:"content-outer"},r&&this.renderCaretButton(),o("slot",{key:"32b0de848a8506b07e0f85ceed2fab3f3a83d564",name:"control",onSlotchange:()=>this.syncControlState()}),o("div",{key:"de16342a341f8f09bd681a29e0f9e315c9473457",class:"content-inner"},o("slot",{key:"bf2a6188579b4deab96547cd47be5facb707a5ad",name:"leading-accessory"}),o("div",{key:"7c0d335d25d20d7a881d8d59fafcb72bd4523c7c",class:"default-slot"},!a&&o("slot",{key:"e96f1962f9b4c09b20106581017d3e57e38b8000"}),a&&o("button",{key:"27327ae061c0591649e5d6735b99e904cda0819a",class:"sort-button","aria-describedby":"sort-button-label",onClick:()=>this.onSortClick()},o("slot",{key:"7c21c6549b469259e3594754b9cb3f13cd956009"}),this.renderSortSvg(),o("span",{key:"e7700cbda848861198059e31f0b0bc5e74c35c88",id:"sort-button-label",hidden:!0},this.getSortButtonLabel()))),o("slot",{key:"aaa20cf2f01bae12183762f1ca543030134ce325",name:"trailing-accessory"}))))}get el(){return h(this)}};p.style=f;export{p as market_table_v2_cell};
