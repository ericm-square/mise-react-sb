import{r as s,c as o,h as e,H as n,g as l}from"./preview-BLkU8-7b.js";import{c as r}from"./index-2c945920-BNEorLC5.js";import{g as d,s as m}from"./dialog-cb6265a8-baZCa5V1.js";import{c}from"./focus-trap-a29c2e91-BWKCq7bF.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";import"./index-2dc281eb-DCayfYZh.js";const p=`:host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}@keyframes market-popup{from{opacity:0%;transform:scale(0.9, 0.9)}to{opacity:100%;transform:scale(1, 1)}}@keyframes market-popdown{from{opacity:100%;transform:scale(1, 1)}to{opacity:0%;transform:scale(0.9, 0.9)}}@keyframes market-slideup{from{opacity:0%;transform:translateY(80vh)}to{opacity:100%;transform:translateY(0)}}@keyframes market-slidedown{from{opacity:100%;transform:translateY(0)}to{opacity:0%;transform:translateY(80vh)}}@keyframes market-slide-left-enter{from{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes market-slide-left-exit{from{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes market-fade-in{from{opacity:0%}to{opacity:100%}}@keyframes market-fade-out{from{opacity:100%}to{opacity:0%}}@keyframes market-input-autofill-start{from{}to{}}@keyframes market-input-autofill-cancel{from{}to{}}@keyframes market-input-search-compact-enter{from{}to{}}@keyframes market-input-search-compact-exit{from{}to{}}:host{display:flex;flex-direction:column;justify-content:stretch;overflow:hidden}:host ::slotted(main){flex:0 1 100%;overflow-y:auto;height:100%}:host ::slotted(.market-header){margin-bottom:var(--core-metrics-spacing-300);padding-top:0}:host ::slotted(.market-footer){padding-bottom:0}:host{position:absolute;top:0;left:0;width:100%;height:100%;padding-top:var(--modal-full-vertical-padding-size);padding-bottom:var(--modal-full-vertical-padding-size);background-color:var(--modal-full-background-color);animation:var(--modal-full-animation-enter-transition-duration)
    market-slideup
    forwards
    var(--modal-full-animation-enter-transition-easing)}:host ::slotted(*){padding-right:var(--modal-full-horizontal-padding-size);padding-left:var(--modal-full-horizontal-padding-size)}:host([hidden]){animation-name:market-slidedown;animation-duration:var(--modal-full-animation-exit-transition-duration);animation-timing-function:var(--modal-full-animation-exit-transition-easing)}@media (min-width: 800px){:host{top:0;left:auto;width:var(--modal-partial-width);height:auto;max-height:calc(100vh - var(--modal-partial-vertical-screen-buffer-size) * 2);padding-top:var(--modal-partial-vertical-padding-size);padding-bottom:var(--modal-partial-vertical-padding-size);border-radius:var(--modal-partial-border-radius);animation:var(--modal-partial-animation-enter-transition-duration)
      market-popup
      forwards
      var(--modal-partial-animation-enter-transition-easing)}:host ::slotted(*){padding-right:var(--modal-partial-horizontal-padding-size);padding-left:var(--modal-partial-horizontal-padding-size)}:host([hidden]){animation-name:market-popdown;animation-duration:var(--modal-partial-animation-exit-transition-duration);animation-timing-function:var(--modal-partial-animation-exit-transition-easing)}}`,f=p,h=class{constructor(a){s(this,a),this.marketDialogLoaded=o(this,"marketDialogLoaded",7),this.marketDialogDismissed=o(this,"marketDialogDismissed",7),this.marketDialogDidDismiss=o(this,"marketDialogDidDismiss",7),this.type="modal-partial",this.hidden=!1,this.dialogID=void 0,this.index=void 0,this.trapFocus=!1,this.animationEnterDuration=r.MODAL_PARTIAL_ANIMATION_ENTER_TRANSITION_DURATION,this.animationExitDuration=r.MODAL_PARTIAL_ANIMATION_EXIT_TRANSITION_DURATION}headerNavigateEventHandler(a){const{detail:t,target:i}=a;t.action==="close"&&i.closest(d())===this.el&&this.dismiss()}dismiss(a){const{defaultPrevented:t}=this.marketDialogDismissed.emit({dialog:this.el,type:this.type,origin:(a==null?void 0:a.origin)||this.el});return t||(this.hidden=!0,setTimeout(()=>{this.marketDialogDidDismiss.emit({dialog:this.el,type:this.type,origin:this.el})},this.animationExitDuration)),Promise.resolve()}onTrapFocusChanged(a,t){a!==t&&(a?this.activateFocusTrap():this.deactivateFocusTrap())}activateFocusTrap(a,t){return this.focusTrap?(this.focusTrap.activate(t??{}),this.trapFocus||(this.trapFocus=!0)):this.focusTrap=c({el:this.el,options:a,activateOptions:t}),Promise.resolve()}deactivateFocusTrap(a={}){return this.focusTrap&&(this.focusTrap.deactivate(Object.assign({returnFocus:!0,checkCanReturnFocus:t=>new Promise(i=>{typeof(t==null?void 0:t.setFocus)=="function"?t.setFocus():i()})},a)),this.focusTrap=void 0),Promise.resolve()}connectedCallback(){this.connectedCallbackTimeout=setTimeout(()=>{this.marketDialogLoaded.emit({dialog:this.el,type:this.type}),this.trapFocus&&this.activateFocusTrap()},this.animationEnterDuration)}componentWillLoad(){m(this.el)}disconnectedCallback(){this.deactivateFocusTrap(),clearTimeout(this.connectedCallbackTimeout)}render(){return e(n,{key:"db242c0f5773dcb40e1ad26ba86b5fee5b6a3a4b",class:"market-modal-partial",role:"dialog"},e("slot",{key:"d29883d3a21f7b6d3d20645a160a5d2a75268ecf"}))}get el(){return l(this)}static get watchers(){return{trapFocus:["onTrapFocusChanged"]}}};h.style=f;export{h as market_modal_partial};
