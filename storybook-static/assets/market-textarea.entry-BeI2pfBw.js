import{r as d,c as n,h as s,H as h,g as c}from"./preview-BLkU8-7b.js";import{c as u}from"./index-2c945920-BNEorLC5.js";import{a as p,o as f}from"./aria-e3448f41-DdEhA6ry.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";const b=`:host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}:host{position:relative;outline:none;font-weight:var(--field-input-weight);font-size:var(--field-input-size);line-height:var(--field-input-leading);cursor:text}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){width:100%;margin:0;padding:0;border:none;background-color:transparent;color:inherit;font-weight:inherit;font-size:inherit;font-family:inherit;line-height:inherit;letter-spacing:inherit;cursor:inherit}:host ::slotted(label){cursor:inherit}:host input:focus,:host ::slotted(input:focus),:host textarea:focus,:host ::slotted(textarea:focus){outline:none}:host input::-moz-placeholder,:host textarea::-moz-placeholder{color:var(--field-placeholder-text-color)}:host input::placeholder,:host textarea::placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::-moz-placeholder,:host ::slotted(textarea)::-moz-placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::placeholder,:host ::slotted(textarea)::placeholder{color:var(--field-placeholder-text-color)}:host([size='small']){font-size:var(--core-type-paragraph-20-size);line-height:var(--core-type-paragraph-20-leading)}:host{border-radius:var(--field-border-radius);background-color:var(--field-normal-state-background-color);color:var(--field-normal-state-input-color)}:host::after{content:"";position:absolute;inset:0;border-radius:var(--field-border-radius);box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-normal-validity-border-color);pointer-events:none}:host([invalid])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-invalid-validity-border-color)}:host(:hover){background-color:var(--field-hover-state-background-color);color:var(--field-hover-state-input-color)}:host(:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-normal-validity-border-color)}:host([invalid]:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-invalid-validity-border-color)}:host([focused]){color:var(--field-focus-state-input-color)}:host([focused])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size)
        var(--field-focus-state-normal-validity-border-color)}:host([focused][invalid])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size) var(--field-focus-state-invalid-validity-border-color)}:host([disabled]){background-color:var(--field-disabled-state-background-color) !important;color:var(--field-disabled-state-input-color) !important;cursor:not-allowed !important}:host([disabled])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-disabled-state-border-color) !important}:host([disabled]) ::slotted(.market-accessory),:host([disabled]) ::slotted(img[slot*="accessory"]),:host([disabled]) ::slotted(svg[slot*="accessory"]),:host([disabled]) ::slotted(div[slot*="accessory"]){--field-disabled-state-accessory-opacity:var(--row-disabled-state-leading-accessory-opacity);opacity:var(--field-disabled-state-accessory-opacity)}:host([value=""]) ::slotted(label){color:var(--field-normal-state-empty-phase-label-color)}:host(:not([value=""])) ::slotted(label),:host([value=""][autofilled]) ::slotted(label){color:var(--field-normal-state-float-phase-label-color)}:host(:hover) ::slotted(label){color:var(--field-hover-state-empty-phase-label-color)}:host(:not([value=""]):hover) ::slotted(label),:host([value=""][autofilled]:hover) ::slotted(label){color:var(--field-hover-state-float-phase-label-color)}:host([focused]) ::slotted(label){color:var(--field-focus-state-float-phase-label-color)}:host([value=""][disabled]) ::slotted(label){color:var(--field-disabled-state-empty-phase-label-color)}:host(:not([value=""])[disabled]) ::slotted(label),:host([value=""][autofilled][disabled]) ::slotted(label){color:var(--field-disabled-state-float-phase-label-color)}:host{--field-input-animation-speed:0.2s;--field-input-label-translate:12px;--field-empty-phase-label-text-size-unitless:16;--field-float-phase-label-text-size-unitless:14;--field-size-medium-float-phase-vertical-padding-size:12px;--field-size-medium-float-phase-horizontal-padding-size:16px;--field-size-small-float-phase-vertical-padding-size:9px;--field-size-small-float-phase-horizontal-padding-size:12px;display:flex;align-items:center}:host .label-input-container,:host([value='']:not([focused]):not([autofilled])) .label-input-container{flex-grow:1;padding:var(--field-float-phase-vertical-padding-size) var(--field-float-phase-horizontal-padding-size)}:host([size='medium']) .label-input-container,:host([size='medium'][value='']:not([focused]):not([autofilled])) .label-input-container{padding:var(--field-size-medium-float-phase-vertical-padding-size)
      var(--field-size-medium-float-phase-horizontal-padding-size)}:host([size='small']) .label-input-container,:host([size='small'][value='']:not([focused]):not([autofilled])) .label-input-container{padding:var(--field-size-small-float-phase-vertical-padding-size)
      var(--field-size-small-float-phase-horizontal-padding-size)}:host ::slotted(label){display:block;min-height:var(--field-empty-phase-label-text-leading);font-weight:var(--field-empty-phase-label-text-weight);font-size:var(--field-empty-phase-label-text-size);line-height:var(--field-empty-phase-label-text-leading);letter-spacing:var(--field-empty-phase-label-text-tracking);transition:all var(--field-input-animation-speed);transform:translateY(var(--field-input-label-translate));transform-origin:0 0}:host(:not([value=""])) ::slotted(label),:host([value=""]:not([focused])[autofilled]) ::slotted(label),:host([focused]) ::slotted(label){font-weight:var(--field-float-phase-label-text-weight);transform:scale(
        calc(var(--field-float-phase-label-text-size-unitless) / var(--field-empty-phase-label-text-size-unitless))
      )}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){opacity:0%}:host([focused]) input,:host([focused]) ::slotted(input),:host([focused]) textarea,:host([focused]) ::slotted(textarea),:host(:not([value=''])) input,:host(:not([value=''])) ::slotted(input),:host(:not([value=''])) textarea,:host(:not([value=''])) ::slotted(textarea){opacity:100%}:host([size='small']) ::slotted(label),:host([size='medium']) ::slotted(label){position:absolute;overflow:hidden;clip:rect(0 0 0 0);width:1px;height:1px;white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host([size='small']) input,:host([size='small']) ::slotted(input),:host([size='small']) textarea,:host([size='small']) ::slotted(textarea),:host([size='medium']) input,:host([size='medium']) ::slotted(input),:host([size='medium']) textarea,:host([size='medium']) ::slotted(textarea){opacity:100%}:host{--textarea-height:120px;--textarea-minimum-height:120px;--textarea-label-bottom-padding:16px;flex-direction:column;overflow:hidden;min-height:var(--textarea-minimum-height);max-height:var(--textarea-maximum-height);resize:vertical}:host .label-input-container,:host([value='']:not([focused]):not([autofilled])) .label-input-container{display:flex;flex-direction:column;width:100%;padding-bottom:var(--textarea-label-bottom-padding);font-weight:var(--textarea-font-weight);font-size:var(--textarea-font-size);line-height:var(--textarea-font-leading);letter-spacing:var(--textarea-font-tracking)}:host([disabled]) textarea,:host([disabled]) ::slotted(textarea){pointer-events:auto !important;}textarea,::slotted(textarea){flex-grow:1;resize:none}`,v=b,m=class{constructor(e){d(this,e),this.marketTextareaValueChange=n(this,"marketTextareaValueChange",7),this.onMutationObserved=a=>{this.ariaAttributes=a},this.placeholder=void 0,this.name=void 0,this.value="",this.maxlength=void 0,this.readonly=!1,this.disabled=!1,this.focused=!1,this.invalid=!1,this.maxHeight=`${u.TEXTAREA_MAXIMUM_HEIGHT}px`,this.autofocus=!1,this.inputmode=void 0,this.ariaAttributes=void 0}handleMarketDialogLoaded(){this.autofocus&&this.setFocus()}registerSlottedTextarea(e){var a;return this.slottedTextarea=e||this.el.querySelector("textarea[slot=textarea]")||((a=this.el.getRootNode().host)===null||a===void 0?void 0:a.querySelector("textarea[slot=textarea]")),this.slottedTextarea&&(this.slottedTextarea.addEventListener("input",t=>this.textareaValueDidChange(t)),this.slottedTextarea.addEventListener("focus",()=>this.setFocus()),this.slottedTextarea.addEventListener("blur",()=>this.focused=!1)),Promise.resolve()}syncSharedPropsToSlottedTextarea(e){this.slottedTextarea&&[...new Set([...Object.keys(e),...Object.keys(this.sharedProps)])].forEach(t=>{if(!(t in this.sharedProps))this.slottedTextarea.removeAttribute(t);else{const o=this.sharedProps[t]!==!0?this.sharedProps[t]:"";this.slottedTextarea.setAttribute(t,o)}})}updateSharedPropsAndSyncSlottedTextarea(){const e=Object.assign({},this.sharedProps);this.sharedProps=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.name&&{name:this.name}),this.placeholder&&{placeholder:this.placeholder}),this.maxlength!==void 0&&Number.parseInt(this.maxlength,10)>=0&&{maxlength:this.maxlength}),this.value!==void 0&&{value:this.value}),this.readonly&&{readonly:this.readonly}),this.disabled&&{disabled:this.disabled}),this.autofocus&&{autofocus:this.autofocus}),this.inputmode&&{inputmode:this.inputmode}),this.ariaAttributes),{"aria-label":p(this.el)}),this.syncSharedPropsToSlottedTextarea(e)}componentWillLoad(){this.mutationObserver=f(this.el,this.onMutationObserved),this.registerSlottedTextarea(),this.updateSharedPropsAndSyncSlottedTextarea()}componentDidLoad(){this.maxHeight&&(this.el.style.maxHeight=this.maxHeight)}componentWillUpdate(){this.updateSharedPropsAndSyncSlottedTextarea()}textareaValueDidChange(e){this.value=e.target.value,this.marketTextareaValueChange.emit({value:e.target.value,originalEvent:e})}setFocus(e=!0){var a,t,o,i,l;if(this.readonly||this.disabled)return;const r=e&&!this.focused;this.focused=e,r&&(this.slottedTextarea?this.slottedTextarea.focus():(l=(i=(o=(t=(a=this.el)===null||a===void 0?void 0:a.shadowRoot)===null||t===void 0?void 0:t.querySelector)===null||o===void 0?void 0:o.call(t,"textarea"))===null||i===void 0?void 0:i.focus)===null||l===void 0||l.call(i))}render(){return s(h,{key:"f3617c6dcb0b55eae58080473ee121f05d2f2069",class:"market-textarea",onBlur:()=>{this.focused=!1},onClick:()=>{this.setFocus()},onFocus:()=>{this.setFocus()},role:"textbox"},s("div",{key:"d0d359818fa6bbbb7fa8300648f730a03f0c7b28",class:"label-input-container",part:"container"},s("slot",{key:"60edd0452534236f7cc5900399042bc6bde5355b"}),s("slot",{key:"6b7bbc02ae357e5e3a079372f16d5244e4ebbc3c",name:"textarea",onSlotchange:()=>this.registerSlottedTextarea()},!this.slottedTextarea&&s("textarea",Object.assign({key:"30e049290d8a63c5301fd9c611710e12e96bfbab"},this.ariaAttributes,{id:this.name,onInput:e=>this.textareaValueDidChange(e)},this.sharedProps)))))}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}get el(){return c(this)}};m.style=v;export{m as market_textarea};
