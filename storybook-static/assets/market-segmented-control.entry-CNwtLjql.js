import{r as n,c as r,h as l,H as a,g as d}from"./preview-BLkU8-7b.js";import{c as o}from"./index-2c945920-BNEorLC5.js";import{g as i}from"./index-2dc281eb-DCayfYZh.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";const c=':host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}:host{position:relative;display:inline-flex;flex-direction:row;gap:calc(var(--segmented-control-padding-horizontal) * 2);align-items:center;min-width:100%;padding:var(--segmented-control-padding-vertical) var(--segmented-control-padding-horizontal);border-radius:var(--segmented-control-background-radius);background:var(--segmented-control-background-normal-state-color)}:host([disabled]){background:var(--segmented-control-background-disabled-state-color);color:var(--segmented-control-option-label-disabled-state-color)}::slotted(.market-segment){z-index:2;width:100%;height:100%}:host::before{content:"";position:absolute;left:var(--selected-slider-left);z-index:1;width:var(--selected-slider-width);height:calc(100% - var(--segmented-control-padding-vertical) * 2);border-radius:var(--segmented-control-option-background-radius);background:var(--segmented-control-option-background-selected-state-color);box-shadow:var(--elevation-10-shadow);transition:left var(--segmented-control-animation-duration)}',h=c;function m(e){return e===""||e===" "||e===null||e===void 0}const g=class{constructor(e){n(this,e),this.marketSegmentedSelectionDidChange=r(this,"marketSegmentedSelectionDidChange",7),this.items=void 0,this.value="",this.disabled=!1}valueWatcher(){this.setSelectionsFromValue()}disabledChangeHandler(){var e;(e=this.items)===null||e===void 0||e.forEach(t=>t.disabled=this.disabled)}setSelectionsFromValue(){var e;(e=this.items)===null||e===void 0||e.forEach(t=>{this.value===t.value?(t.setSelectedState(!0),this.setSliderPosition(t)):t.setSelectedState(!1)})}setInternalState(){this.items=this.el.querySelectorAll(`${i("market-segment")}`),this.selectedSlider=this.el.shadowRoot.getElementById("selected-slider"),this.items.length>0&&(m(this.value)&&(this.value=this.items[0].value),this.setSelectionsFromValue())}setSliderSize(){var e;this.el.style.setProperty("--selected-slider-width",`calc(${100/((e=this.items)===null||e===void 0?void 0:e.length)}% - ${o.SEGMENTED_CONTROL_PADDING_HORIZONTAL*2}px)`)}setSliderPosition(e=void 0){if(!e){this.el.style.setProperty("--selected-slider-left",`${o.SEGMENTED_CONTROL_PADDING_HORIZONTAL}px`);return}const t=[...this.items].indexOf(e);this.el.style.setProperty("--selected-slider-left",`calc(${t/this.items.length*100}% + ${o.SEGMENTED_CONTROL_PADDING_HORIZONTAL}px)`)}defaultSlotchangeHandler(){this.setInternalState(),this.setSliderSize()}marketSegmentSelectedEventHandler(e){const t=e.target,s=this.el.querySelector(`${i("market-segment")}[selected]`);s==null||s.setSelectedState(!1),t.setSelectedState(!0),this.setSliderPosition(t),this.marketSegmentedSelectionDidChange.emit({selectedSegment:t,selectedSegmentValue:t.value,deselectedSegment:s,deselectedSegmentValue:s==null?void 0:s.value})}render(){return l(a,{key:"f836184407efd4085a879f2243cb23be526e53d5",class:"market-segmented-control"},l("slot",{key:"017a34bd0a97829e8775cde2fcc4caae480f2df5",onSlotchange:()=>this.defaultSlotchangeHandler()}))}get el(){return d(this)}static get watchers(){return{value:["valueWatcher"],disabled:["disabledChangeHandler"]}}};g.style=h;export{g as market_segmented_control};
