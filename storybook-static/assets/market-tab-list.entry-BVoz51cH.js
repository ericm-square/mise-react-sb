import{r as l,c as n,h as r,H as d,g as b}from"./preview-BLkU8-7b.js";import{g as c}from"./index-2dc281eb-DCayfYZh.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";const h=':host{position:relative;display:flex}:host::after{content:"";position:absolute;bottom:0;left:0;display:block;width:100%;height:var(--tabs-list-bottom-border-size, 1px);background-color:var(--tabs-list-bottom-border-color, var(--core-divider-20-color))}:host(:not([size])),:host([size="small"]),:host([size="medium"]){gap:var(--tabs-list-medium-size-horizontal-spacing, var(--core-metrics-spacing-200))}:host([size="large"]){gap:var(--tabs-list-large-size-horizontal-spacing, var(--core-metrics-spacing-300))}',f=h,u=class{constructor(e){l(this,e),this.marketTabListSelectedTabChanged=n(this,"marketTabListSelectedTabChanged",7),this.size=void 0,this.selectedTab=void 0,this.defaultTab=void 0}marketTabSelectedChangedEventHandler(e){var t;const{tabId:a,value:i}=e.detail;if(i){if(this.selectedTab!==a){const{defaultPrevented:s}=this.marketTabListSelectedTabChanged.emit({prevValue:this.selectedTab,value:a});s||(this.selectedTab=a)}(t=this.tabEls)===null||t===void 0||t.forEach(s=>{s.id!==a?(s.deselect(),s.tabIndex=-1):s.tabIndex=0})}}tabWatcher(e){this.selectTab(e)}sizeWatcher(e){this.propagateSizeProp(e)}selectTab(e){var t,a;const i=((t=this.tabEls)===null||t===void 0?void 0:t.find(s=>e===s.id&&!s.disabled))||((a=this.tabEls)===null||a===void 0?void 0:a.find(s=>!s.disabled));i==null||i.select()}propagateSizeProp(e){this.tabEls.forEach(t=>{this.size&&t.size!==this.size&&(t.size=e)})}focusOnTab(e){var t,a;(a=(t=e==null?void 0:e.shadowRoot)===null||t===void 0?void 0:t.querySelector("button"))===null||a===void 0||a.focus()}handleKeyDown(e){if(!(!this.tabEls||this.tabEls.every(t=>t.disabled))&&(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="Home"||e.key==="End")){e.preventDefault();const t=this.tabEls.indexOf(e.target);if(t<0)return;const a=this.tabEls.slice(0,t),i=this.tabEls.slice(t+1);switch(e.key){case"ArrowRight":{const s=[...i,...a].find(o=>!o.disabled);this.focusOnTab(s);break}case"ArrowLeft":{const s=[...i,...a].reverse().find(o=>!o.disabled);this.focusOnTab(s);break}case"Home":{const s=this.tabEls.find(o=>!o.disabled);this.focusOnTab(s);break}case"End":{const s=this.tabEls.filter(o=>!o.disabled);this.focusOnTab(s[s.length-1]);break}}}}handleSlotChange(){this.tabEls=[...this.el.querySelectorAll(c("market-tab"))],this.propagateSizeProp(this.size)}componentWillLoad(){this.handleSlotChange(),this.selectTab(this.selectedTab||this.defaultTab)}render(){return r(d,{key:"8a74e46b5b435b18dbb10a19572a5e166e43ce34",class:"market-tab-list",onKeyDown:this.handleKeyDown.bind(this),role:"tablist"},r("slot",{key:"d969f71a753e2415e92994da2212b2cef4a25406",onSlotchange:()=>this.handleSlotChange()}))}get el(){return b(this)}static get watchers(){return{selectedTab:["tabWatcher"],size:["sizeWatcher"]}}};u.style=f;export{u as market_tab_list};
