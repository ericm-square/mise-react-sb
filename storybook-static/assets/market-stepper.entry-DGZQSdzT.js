import{r as n,c as r,h as a,H as d,g as u}from"./preview-BLkU8-7b.js";import{s as c}from"./forms-6e9919f9-DRYVCaDb.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";const h=`:host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}:host{position:relative;outline:none;font-weight:var(--field-input-weight);font-size:var(--field-input-size);line-height:var(--field-input-leading);cursor:text}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){width:100%;margin:0;padding:0;border:none;background-color:transparent;color:inherit;font-weight:inherit;font-size:inherit;font-family:inherit;line-height:inherit;letter-spacing:inherit;cursor:inherit}:host ::slotted(label){cursor:inherit}:host input:focus,:host ::slotted(input:focus),:host textarea:focus,:host ::slotted(textarea:focus){outline:none}:host input::-moz-placeholder,:host textarea::-moz-placeholder{color:var(--field-placeholder-text-color)}:host input::placeholder,:host textarea::placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::-moz-placeholder,:host ::slotted(textarea)::-moz-placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::placeholder,:host ::slotted(textarea)::placeholder{color:var(--field-placeholder-text-color)}:host([size='small']){font-size:var(--core-type-paragraph-20-size);line-height:var(--core-type-paragraph-20-leading)}:host{border-radius:var(--field-border-radius);background-color:var(--field-normal-state-background-color);color:var(--field-normal-state-input-color)}:host::after{content:"";position:absolute;inset:0;border-radius:var(--field-border-radius);box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-normal-validity-border-color);pointer-events:none}:host([invalid])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-invalid-validity-border-color)}:host(:hover){background-color:var(--field-hover-state-background-color);color:var(--field-hover-state-input-color)}:host(:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-normal-validity-border-color)}:host([invalid]:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-invalid-validity-border-color)}:host([focused]){color:var(--field-focus-state-input-color)}:host([focused])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size)
        var(--field-focus-state-normal-validity-border-color)}:host([focused][invalid])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size) var(--field-focus-state-invalid-validity-border-color)}:host([disabled]){background-color:var(--field-disabled-state-background-color) !important;color:var(--field-disabled-state-input-color) !important;cursor:not-allowed !important}:host([disabled])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-disabled-state-border-color) !important}:host([disabled]) ::slotted(.market-accessory),:host([disabled]) ::slotted(img[slot*="accessory"]),:host([disabled]) ::slotted(svg[slot*="accessory"]),:host([disabled]) ::slotted(div[slot*="accessory"]){--field-disabled-state-accessory-opacity:var(--row-disabled-state-leading-accessory-opacity);opacity:var(--field-disabled-state-accessory-opacity)}:host([value=""]) ::slotted(label){color:var(--field-normal-state-empty-phase-label-color)}:host(:not([value=""])) ::slotted(label),:host([value=""][autofilled]) ::slotted(label){color:var(--field-normal-state-float-phase-label-color)}:host(:hover) ::slotted(label){color:var(--field-hover-state-empty-phase-label-color)}:host(:not([value=""]):hover) ::slotted(label),:host([value=""][autofilled]:hover) ::slotted(label){color:var(--field-hover-state-float-phase-label-color)}:host([focused]) ::slotted(label){color:var(--field-focus-state-float-phase-label-color)}:host([value=""][disabled]) ::slotted(label){color:var(--field-disabled-state-empty-phase-label-color)}:host(:not([value=""])[disabled]) ::slotted(label),:host([value=""][autofilled][disabled]) ::slotted(label){color:var(--field-disabled-state-float-phase-label-color)}:host input::-webkit-outer-spin-button,:host input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;appearance:none}:host input[type="number"]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}:host{display:flex;align-items:center}:host input{--stepper-quantity-input-field-height:calc(
        var(--stepper-quantity-input-field-value-text-leading) + var(--stepper-padding-size) * 2
      );position:relative;bottom:0;width:100%;height:var(--stepper-quantity-input-field-height);color:var(--stepper-quantity-input-field-value-text-normal-state-color);font-weight:var(--stepper-quantity-input-field-value-text-weight);font-size:var(--stepper-quantity-input-field-value-text-size);font-family:var(--stepper-quantity-input-field-value-text-font-family);line-height:var(--stepper-quantity-input-field-value-text-leading);letter-spacing:var(--stepper-quantity-input-field-value-text-tracking);text-align:center;text-transform:var(--stepper-quantity-input-field-value-text-case);cursor:text;font-feature-settings:"tnum"}:host input[disabled]{color:var(--stepper-quantity-input-field-value-text-disabled-state-color)}:host input::-moz-placeholder{color:var(--stepper-quantity-input-field-value-text-placeholder-color)}:host input::placeholder{color:var(--stepper-quantity-input-field-value-text-placeholder-color)}button{--transition-duration:0.2s;--stepper-button-size:var(--stepper-button-minimum-height);position:relative;display:inline-flex;flex-shrink:0;justify-content:center;align-items:center;box-sizing:content-box;width:var(--stepper-button-size);height:var(--stepper-button-size);padding:var(--stepper-padding-size);border:none;border-radius:var(--stepper-border-radius);background:none;cursor:pointer;transition:background-color color var(--transition-duration)}button::before{content:"";position:absolute;inset:0;display:block;margin:var(--stepper-padding-size);border-radius:var(--stepper-button-border-radius);background:var(--stepper-button-normal-state-background-color)}button svg{position:relative;pointer-events:none;fill:var(--stepper-button-normal-state-icon-color)}button:hover::before{background:var(--stepper-button-hover-state-background-color)}button:hover svg{fill:var(--stepper-button-hover-state-icon-color)}button:focus{outline:none}button:focus::before{background:var(--stepper-button-focus-state-background-color)}button:focus svg{fill:var(--stepper-button-focus-state-icon-color)}button:active::before{background:var(--stepper-button-pressed-state-background-color)}button:active svg{fill:var(--stepper-button-pressed-state-icon-color)}button[disabled]{cursor:not-allowed}button[disabled]::before{background:var(--stepper-button-disabled-state-background-color)}button[disabled] svg{fill:var(--stepper-button-disabled-state-icon-color)}`,p=h,b=class{constructor(e){n(this,e),this.marketStepperValueChange=r(this,"marketStepperValueChange",7),this.marketStepperInputFocus=r(this,"marketStepperInputFocus",7),this.value=void 0,this.inputId=void 0,this.name=void 0,this.placeholder="0",this.max=void 0,this.min=void 0,this.step=1,this.readonly=!1,this.disabled=!1,this.focused=!1,this.invalid=!1,this.inputAriaLabel="Number",this.decrementAriaLabel="Decrement",this.incrementAriaLabel="Increment",this.incrementDisabled=!1,this.decrementDisabled=!1}valueChangeHandler(){const e=this.sanitizeValue(this.value);e!==this.value&&(this.value=e),this.updateButtonDisabledStates()}setFocus(e=!0){return this.readonly||this.disabled||(this.focused=e,this.focused?this.inputEl.focus():this.inputEl.blur()),Promise.resolve()}onChange(){const e=this.value;let t=Number.parseFloat(this.inputEl.value);Number.isNaN(t)?(t=null,this.inputEl.value=""):(t=this.sanitizeValue(t),this.inputEl.value=t.toString()),t!==e&&(this.value=t,this.emitChangeEvent(e))}onInputFocus(){this.emitInputFocusEvent()}onDecrementClick(){this.stepValue(-this.step)}onIncrementClick(){this.stepValue(this.step)}onKeyDown(e){e.key==="Enter"&&c(this.el)}stepValue(e){const t=this.value,i=(t||0)+e,o=this.sanitizeValue(i);o!==t&&(this.value=o,this.emitChangeEvent(t))}sanitizeValue(e){var t;const i=((t=this.step.toString().split(".")[1])===null||t===void 0?void 0:t.length)||0,o=this.max!==null&&this.max!==void 0,l=this.min!==null&&this.min!==void 0;let s=Math.round(e/this.step)*this.step;return s=Number.parseFloat(s.toFixed(i)),s=o?Math.min(s,this.max):s,l?Math.max(s,this.min):s}updateButtonDisabledStates(){const{value:e,max:t,min:i}=this,o=e!=null;this.incrementDisabled=o?e===t:!1,this.decrementDisabled=o?e===i:!1}emitChangeEvent(e){const{el:t,value:i,marketStepperValueChange:o}=this;o.emit({el:t,value:i,previousValue:e})}emitInputFocusEvent(){const{marketStepperInputFocus:e}=this;e.emit()}componentWillRender(){this.updateButtonDisabledStates()}render(){return a(d,{key:"7c68d56e58af7a47815b7c46ea62672742d32dd1",class:"market-stepper",onFocus:()=>{this.focused=!0},onBlur:()=>{this.focused=!1}},a("button",{key:"b541931c4ce01d331e468722b069edeff6158133",tabindex:this.disabled||this.decrementDisabled?-1:null,disabled:this.disabled||this.decrementDisabled,onClick:()=>this.onDecrementClick(),"aria-label":this.decrementAriaLabel},a("svg",{key:"e02f0df74ce09f5cc9e2ea3005001f2de09aa6f7",width:"10",height:"2",viewBox:"0 0 10 2",xmlns:"http://www.w3.org/2000/svg"},a("path",{key:"1c7af1e881f8b0894b78e5848f00cecc11429ccd",d:"M9.66667 0.333328H0.333336V1.66666H9.66667V0.333328Z"}))),a("input",{key:"42d301f8069bb636ad2aab1f54b9acc5e360ea92",ref:e=>this.inputEl=e,type:"number",id:this.inputId,name:this.name,readonly:this.readonly,disabled:this.disabled,placeholder:this.placeholder,step:this.step,min:this.min,max:this.max,value:this.value,"aria-label":this.inputAriaLabel,onChange:()=>this.onChange(),onFocus:()=>this.onInputFocus(),onKeyDown:e=>this.onKeyDown(e),part:"native-input"}),a("button",{key:"93c6455a6a17ba982a2c02b3ed3c1867a4f6237b",tabindex:this.disabled||this.incrementDisabled?-1:null,disabled:this.disabled||this.incrementDisabled,onClick:()=>this.onIncrementClick(),"aria-label":this.incrementAriaLabel},a("svg",{key:"0c71a8066105bc22f0388af7ef5c1ea936426863",width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},a("path",{key:"83159bd895a0c8d14aece1ec9f4a3b65970e1da6",d:"M5.66665 9.66666V5.66666H9.66665V4.33333H5.66665V0.333328H4.33331V4.33333H0.333313V5.66666H4.33331V9.66666H5.66665Z"}))))}get el(){return u(this)}static get watchers(){return{value:["valueChangeHandler"]}}};b.style=p;export{b as market_stepper};
