import{r as d,c as r,h as e,H as c,g as h}from"./preview-BLkU8-7b.js";import{c as g}from"./index-2c945920-BNEorLC5.js";import{g as n}from"./index-2dc281eb-DCayfYZh.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";const p=`:host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}::slotted(.wayfinding),::slotted([slot="wayfinding"]),::slotted(.subheading),::slotted([slot="subheading"]){font-weight:var(--core-type-paragraph-20-weight);font-size:var(--core-type-paragraph-20-size);font-family:var(--core-type-paragraph-20-font-family);line-height:var(--core-type-paragraph-20-leading);letter-spacing:var(--core-type-paragraph-20-tracking);text-transform:var(--core-type-paragraph-20-case)}::slotted(.wayfinding) b,::slotted(.wayfinding) strong,::slotted([slot="wayfinding"]) b,::slotted([slot="wayfinding"]) strong,::slotted(.subheading) b,::slotted(.subheading) strong,::slotted([slot="subheading"]) b,::slotted([slot="subheading"]) strong{font-weight:var(--core-type-semibold-20-weight)}:host{--header-animation-duration:0.2s;display:block}::slotted(*){margin:0}::slotted(.wayfinding),::slotted([slot="wayfinding"]){display:block;color:var(--header-sub-text-text-color);margin-bottom:var(--header-sub-text-spacing-bottom-size)}::slotted(.subheading),::slotted([slot="subheading"]){display:block;color:var(--header-sub-text-text-color);margin-top:var(--header-sub-text-spacing-bottom-size)}:host([show-navigation]) ::slotted([slot="compact"]:not(.wayfinding):not(.subheading)){font-weight:var(--core-type-heading-20-weight);font-size:var(--core-type-heading-20-size);font-family:var(--core-type-heading-20-font-family);line-height:var(--core-type-heading-20-leading);letter-spacing:var(--core-type-heading-20-tracking);text-transform:var(--core-type-heading-20-case)}nav{padding-right:var(--header-main-text-horizontal-spacing)}menu{display:none;grid-auto-flow:column;align-items:start;margin:0;padding-left:var(--header-main-text-horizontal-spacing);-moz-column-gap:var(--button-group-spacing);column-gap:var(--button-group-spacing)}:host([show-actions]) menu{display:grid}.grid{display:none}:host([show-actions]) .grid{display:grid;grid-template-columns:auto minmax(max-content, 1fr)}:host([show-navigation]) .grid{display:grid;grid-template-columns:minmax(max-content, 1fr) auto minmax(max-content, 1fr)}.navigation{display:none}:host([show-navigation]) .navigation{display:flex}.actions{display:flex;place-content:flex-end}.compact{display:flex;flex-direction:column;place-content:center}::slotted(p){margin-top:var(--header-bottom-padding-size)}::slotted(p[slot="compact"]){display:none}:host([show-navigation]) .compact{overflow:hidden;text-align:center;opacity:0%;visibility:hidden;transition:opacity var(--header-animation-duration) ease-in-out,
    visibility 0s linear var(--header-animation-duration)}:host([show-navigation]) .compact ::slotted([slot="compact"]){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.heading{display:block;transition:opacity var(--header-animation-duration) ease-in-out, visibility 0s}:host([show-navigation]) .heading{margin-top:var(--header-nav-icon-button-spacing-buttom-size)}:host([show-actions]:not([show-navigation])) .heading{display:none}:host([show-navigation][compact]) .compact{opacity:100%;visibility:visible;transition:opacity var(--header-animation-duration) ease-in-out, visibility 0s}:host([show-navigation][compact]) .heading{opacity:0%;visibility:hidden;transition:opacity var(--header-animation-duration) ease-in-out,
      visibility 0s linear var(--header-animation-duration)}:host(.regular) .heading{max-width:var(--modal-full-fixed-layout-width);margin-right:auto;margin-left:auto}:host(.wide) .heading{max-width:1200px;margin-right:auto;margin-left:auto}`,m=p,f=class{constructor(t){d(this,t),this.marketHeaderNavigate=r(this,"marketHeaderNavigate",7),this.showNavigation=null,this.closeButtonAriaLabel="Close",this.disableCloseButton=!1,this.compact=!1,this.showActions=!1}handleCompact(){if(this.compact){const t=this.el.shadowRoot.querySelector(".grid .compact"),a=Number.parseInt(getComputedStyle(t).height,10);this.el.style.height=a!==void 0?`${a}px`:""}else this.el.style.height=""}handleSlottedNavigation(){const t=this.el.querySelector('[slot="navigation"]');t&&(this.showNavigation=!0,t.addEventListener("click",this.handleSlottedNavClick.bind(this)))}handleSlottedActions(){const t=this.el.querySelector('[slot="actions"]');this.showActions=!!t}handleCloseButtonClick(t){this.marketHeaderNavigate.emit({event:t,action:"close"})}handleSlottedNavClick(t){this.marketHeaderNavigate.emit({event:t,action:"custom"})}componentWillLoad(){this.checkForNavigation(),this.cloneDefaultHeadingToCompactHeading(),new MutationObserver(this.handleMutation.bind(this)).observe(this.el,{childList:!0,characterData:!0,subtree:!0})}componentDidRender(){this.handleCompact()}handleMutation(t){let a=!0;t.forEach(i=>{i.type==="childList"&&i.addedNodes.length>0&&i.addedNodes.forEach(s=>{s.slot==="compact"&&(a=!1)})}),a&&this.cloneDefaultHeadingToCompactHeading()}checkForNavigation(){const t=this.el.closest(`
      ${n("market-modal-full")},
      ${n("market-modal-partial")}
    `),a=this.el.querySelector('[slot="navigation"]');this.showNavigation===null&&(this.showNavigation=!!(t||a))}cloneDefaultHeadingToCompactHeading(){const t=this.el.querySelectorAll('[slot="compact"]');for(const o of t)this.el.removeChild(o);const a=this.el.querySelector('[slot="wayfinding"]'),i=this.el.querySelector('[slot="subheading"]');if(a){const o=a.cloneNode(!0);o.slot="compact",o.classList.add("wayfinding"),this.el.appendChild(o)}const s=[...this.el.children].filter(o=>!o.getAttribute("slot"));for(const o of s){const l=o.cloneNode(!0);l.slot="compact",this.el.appendChild(l)}if(!a&&i){const o=i.cloneNode(!0);o.slot="compact",o.classList.add("subheading"),this.el.appendChild(o)}}renderDefaultNavigation(){const t=n("market-button"),a=n("market-icon");return e(t,{rank:"secondary",slot:"navigation","aria-label":this.closeButtonAriaLabel,disabled:this.disableCloseButton,onClick:i=>this.handleCloseButtonClick(i)},e(a,{slot:"icon",name:g.HEADER_CLOSE_BUTTON_ICON_ASSET}))}render(){return e(c,{key:"729d3c7f3bd4b0de0129d38745c7edcc3e84cb94",class:"market-header","show-actions":this.showActions},e("div",{key:"c02d3b147449dd287caed646efe4f87c1d8fb330",class:"grid"},e("div",{key:"a82f35e2d2f94b804dfc58f07afa7132bad7f15b",class:"navigation"},e("nav",{key:"e999a68bd70971107f3d1fea55075c7325589908"},e("slot",{key:"33bfc22908a5d9d9173381cec952e597ce98fe7f",name:"navigation",onSlotchange:()=>this.handleSlottedNavigation()},this.renderDefaultNavigation()))),e("div",{key:"e6c1924471828452a827bdef676ea8678cee28b9",class:"compact"},e("slot",{key:"77472b9b52682b26ef5c74fc13be7fe5fa4ad793",name:"compact"})),e("div",{key:"363fcd04cb6c8296f29138d164d80bfc0eb04c2b",class:"actions"},e("menu",{key:"1ec293d60b5b8a1f4ce6e69504b739517be5dec0"},e("slot",{key:"b91e104409e695487a4f2a3ceb435942c88ffd2b",name:"actions",onSlotchange:()=>this.handleSlottedActions()})))),e("div",{key:"b95afade36b11764243366c4af694499e4f21bea",class:"heading",part:"heading"},e("slot",{key:"20ffea9b6e64ed56075f5e1efd6b907af25aa5ff",name:"wayfinding"}),e("slot",{key:"f401bcf844b14535423ecc23346f7fff0cf152e1"}),e("slot",{key:"463d40e400b7a81cc9415d65c6c01c619ba65eba",name:"subheading"})))}get el(){return h(this)}static get watchers(){return{compact:["handleCompact"]}}};f.style=m;export{f as market_header};
