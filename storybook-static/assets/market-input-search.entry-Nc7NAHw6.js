import{r as n,c as s,h as i,H as c,g as l}from"./preview-BLkU8-7b.js";import{a as h}from"./autocomplete-b8a25110-BIVfrXbl.js";import{c as o}from"./classnames-84eaa2b2-DUfJYZCM.js";import{g as u}from"./index-2dc281eb-DCayfYZh.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";const d=`:host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}@keyframes market-popup{from{opacity:0%;transform:scale(0.9, 0.9)}to{opacity:100%;transform:scale(1, 1)}}@keyframes market-popdown{from{opacity:100%;transform:scale(1, 1)}to{opacity:0%;transform:scale(0.9, 0.9)}}@keyframes market-slideup{from{opacity:0%;transform:translateY(80vh)}to{opacity:100%;transform:translateY(0)}}@keyframes market-slidedown{from{opacity:100%;transform:translateY(0)}to{opacity:0%;transform:translateY(80vh)}}@keyframes market-slide-left-enter{from{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes market-slide-left-exit{from{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes market-fade-in{from{opacity:0%}to{opacity:100%}}@keyframes market-fade-out{from{opacity:100%}to{opacity:0%}}@keyframes market-input-autofill-start{from{}to{}}@keyframes market-input-autofill-cancel{from{}to{}}@keyframes market-input-search-compact-enter{from{}to{}}@keyframes market-input-search-compact-exit{from{}to{}}:host{--input-search-accessory-height:48px;--input-search-accessory-width:48px;--input-search-animation-enter-transition-duration:var(--core-animation-enter-transition-moderate-speed-duration);--input-search-animation-enter-transition-easing:var(--core-animation-enter-transition-easing);--input-search-animation-exit-transition-duration:var(--core-animation-exit-transition-fast-speed-duration);--input-search-animation-exit-transition-easing:var(--core-animation-exit-transition-easing);--input-search-background-color:var(--core-surface-5-color);--input-search-border-radius:6px;--input-search-border-size:1px;--input-search-clear-button-fill:var(--core-fill-20-color);--input-search-clear-button-hover-state-fill:var(--core-fill-10-color);--input-search-compact-state-hover-state-background-color:var(--core-fill-40-color);--input-search-compact-state-hover-state-border-color:var(--core-fill-30-color);--input-search-compact-state-max-width:40px;--input-search-disabled-state-border-color:var(--core-fill-40-color);--input-search-disabled-state-text-color:var(--core-text-20-color);--input-search-focused-state-border-color:var(--core-fill-10-color);--input-search-height:48px;--input-search-hover-state-border-color:var(--core-fill-20-color);--input-search-icon-color:var(--core-text-10-color);--input-search-normal-state-border-color:var(--core-fill-30-color);--input-search-secondary-button-disabled-state-color:var(--core-text-30-color);--input-search-small-size-accessory-height:40px;--input-search-small-size-accessory-width:40px;--input-search-small-size-compact-state-max-width:40px;--input-search-small-size-height:40px;--input-search-small-size-text-size:14px;--input-search-text-color:var(--core-text-10-color);--input-search-text-font-family:var(--square-sans-text);--input-search-text-leading:24px;--input-search-text-placeholder-color:var(--core-text-30-color);--input-search-text-size:16px;--input-search-text-weight:var(--core-type-regular-weight);display:flex;flex:1;flex-direction:row;align-items:center;border:var(--input-search-border-size) solid var(--input-search-normal-state-border-color);border-radius:var(--input-search-border-radius);background-color:var(--input-search-background-color);color:var(--input-search-text-color);font-weight:var(--input-search-text-weight);font-family:var(--input-search-text-font-family);line-height:var(--input-search-text-leading);cursor:text;transition:flex
    var(--input-search-animation-enter-transition-duration)
    var(--input-search-animation-enter-transition-easing)}:host(.preload){transition:none !important;}:host(:hover){border-color:var(--input-search-hover-state-border-color)}:host([focused]){border-color:var(--input-search-focused-state-border-color)}:host([disabled]){border-color:var(--input-search-disabled-state-border-color);color:var(--input-search-disabled-state-text-color);cursor:not-allowed}:host([disabled]) svg{fill:var(--input-search-secondary-button-disabled-state-color)}:host([variant="medium" i]),:host([size="medium" i]){height:var(--input-search-height);font-size:var(--input-search-text-size)}:host([variant="medium" i]) .leading-accessory,:host([variant="medium" i]) .leading-accessory .market-accessory,:host([variant="medium" i]) ::slotted([slot="trailing-accessory"]),:host([variant="medium" i]) .clear-button,:host([size="medium" i]) .leading-accessory,:host([size="medium" i]) .leading-accessory .market-accessory,:host([size="medium" i]) ::slotted([slot="trailing-accessory"]),:host([size="medium" i]) .clear-button{width:calc(var(--input-search-accessory-width) - var(--input-search-border-size) * 2);height:calc(var(--input-search-accessory-height) - var(--input-search-border-size) * 2)}:host([variant="medium" i][compact]:not([focused])),:host([size="medium" i][compact]:not([focused])){flex-basis:var(--input-search-compact-state-max-width)}:host([variant="small" i]),:host([size="small" i]){height:var(--input-search-small-size-height);font-size:var(--input-search-small-size-text-size)}:host([variant="small" i]) .leading-accessory,:host([variant="small" i]) .leading-accessory .market-accessory,:host([variant="small" i]) ::slotted([slot="trailing-accessory"]),:host([variant="small" i]) .clear-button,:host([size="small" i]) .leading-accessory,:host([size="small" i]) .leading-accessory .market-accessory,:host([size="small" i]) ::slotted([slot="trailing-accessory"]),:host([size="small" i]) .clear-button{width:calc(var(--input-search-small-size-accessory-width) - var(--input-search-border-size) * 2);height:calc(var(--input-search-small-size-accessory-height) - var(--input-search-border-size) * 2)}:host([variant="small" i][compact]:not([focused])),:host([size="small" i][compact]:not([focused])){flex-basis:var(--input-search-small-size-compact-state-max-width)}:host([compact]:not([focused])){flex:0;cursor:pointer;transition:flex
    var(--input-search-animation-exit-transition-duration)
    var(--input-search-animation-exit-transition-easing);animation-name:market-input-search-compact-exit;animation-duration:var(--input-search-animation-exit-transition-duration)}:host([compact]:not([focused])) .leading-accessory{margin-right:0;pointer-events:none}:host([compact]:not([focused])) ::slotted([slot="trailing-accessory"]),:host([compact]:not([focused])) .clear-button{display:none}:host([compact]:not([focused]):hover){border-color:var(--input-search-compact-state-hover-state-border-color);background-color:var(--input-search-compact-state-hover-state-background-color)}:host([compact][focused]){animation-name:market-input-search-compact-enter;animation-duration:var(--input-search-animation-enter-transition-duration)}input::-moz-placeholder,::slotted(input::-moz-placeholder){color:var(--input-search-text-placeholder-color)}input::placeholder,::slotted(input::placeholder),:host([value=""]) input,:host([value=""]) ::slotted(input){color:var(--input-search-text-placeholder-color)}.leading-accessory,::slotted([slot="trailing-accessory"]),.clear-button{display:flex;justify-content:center;align-items:center;padding:0;border:0;background:transparent}.leading-accessory.is-back-icon,.clear-button{cursor:pointer}.clear-button svg{fill:var(--input-search-clear-button-fill)}.clear-button:hover svg{fill:var(--input-search-clear-button-hover-state-fill)}.clear-button.hidden{display:none}svg{fill:var(--input-search-icon-color)}.input-container{flex:1}input,::slotted(input){width:100%;height:var(--input-search-text-leading);padding:0;border:none;background-color:transparent;color:inherit;font-weight:inherit;font-size:inherit;font-family:inherit}input:focus,::slotted(input:focus){outline:none}input[disabled],::slotted(input[disabled]){color:var(--input-search-disabled-state-text-color)}:host(:not([value=""])) ::slotted([slot="trailing-accessory"]){display:none}input:-webkit-autofill,::slotted(input:-webkit-autofill){box-shadow:0 0 0 var(--input-search-text-leading) var(--input-search-background-color) inset !important;-webkit-text-fill-color:var(--input-search-text-color) !important;caret-color:var(--input-search-text-color)}:host input:-webkit-autofill,:host ::slotted(input:-webkit-autofill){animation-name:market-input-autofill-start}:host input:not(:-webkit-autofill),:host ::slotted(input:not(:-webkit-autofill)){animation-name:market-input-autofill-cancel}`,p=d,m=class{constructor(t){n(this,t),this.marketInputSearchCleared=s(this,"marketInputSearchCleared",7),this.marketInputSearchValueChange=s(this,"marketInputSearchValueChange",7),this.marketInputSearchFocus=s(this,"marketInputSearchFocus",7),this.marketInternalInputSearchCompactAnimation=s(this,"marketInternalInputSearchCompactAnimation",7),this.marketInputSearchDidLoad=s(this,"marketInputSearchDidLoad",7),this.value="",this.placeholder="",this.maxlength=void 0,this.size="medium",this.variant="medium",this.disabled=!1,this.focused=!1,this.autofocus=!1,this.autocomplete=!0,this.name=void 0,this.inputAriaLabel="Search",this.clearButtonAriaLabel="Clear",this.searchIconButtonAriaLabel="Search icon",this.compact=!1}focusedWatcher(t,e){t!==e&&(t?this.nativeInputEl.focus():this.nativeInputEl.blur())}disabledWatcher(t){t&&this.focused&&this.setFocus(!1)}autocompleteWatcher(t){this._autocomplete=h(t)}setFocus(t=!0){if(this.disabled&&t||this.focused===t)return Promise.resolve();const{defaultPrevented:e}=this.marketInputSearchFocus.emit(t);return e||(this.focused=t),Promise.resolve()}clearInput(){return this.marketInputSearchCleared.emit().defaultPrevented||this.value===""||this.marketInputSearchValueChange.emit({current:"",prevValue:this.value,originalEvent:null,value:""}).defaultPrevented||(this.value=""),Promise.resolve()}async handleClearButtonClicked(){await this.clearInput(),this.clearButtonClicked=!0}handleValueChange(t){const e=t.target;if(!e)return;const{defaultPrevented:r}=this.marketInputSearchValueChange.emit({current:e.value,prevValue:this.value,originalEvent:t,value:e.value});if(r){t.preventDefault();return}this.value=e.value}handleAnimation(t){this.compact&&(t.animationName==="market-input-search-compact-enter"&&t.type==="animationstart"&&this.focused?(this.marketInternalInputSearchCompactAnimation.emit(t.type),window.requestAnimationFrame(()=>{var e;(e=this.nativeInputEl)===null||e===void 0||e.focus()})):t.animationName==="market-input-search-compact-exit"&&t.type==="animationend"&&this.marketInternalInputSearchCompactAnimation.emit(t.type))}handleAccessoryClicked(t,e){e&&(t.stopPropagation(),this.setFocus(!1))}registerSlottedInput(t){var e;this.slottedInputEl=t||this.el.querySelector("input[slot=input]")||((e=this.el.getRootNode().host)===null||e===void 0?void 0:e.querySelector("input[slot=input]")),this.slottedInputEl&&(this.slottedInputEl.addEventListener("input",r=>this.handleValueChange(r)),this.slottedInputEl.addEventListener("focus",()=>this.setFocus()),this.slottedInputEl.addEventListener("blur",()=>this.setFocus(!1)),this.nativeInputEl=this.slottedInputEl)}updateSharedInputProps(){const t=Object.assign({},this.sharedProps);this.sharedProps=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this._autocomplete&&{autocomplete:this._autocomplete}),this.autofocus&&{autofocus:this.autofocus}),this.disabled&&{disabled:this.disabled}),this.maxlength>=0&&{maxlength:this.maxlength}),this.name&&{name:this.name}),this.placeholder&&{placeholder:this.placeholder}),this.value!==void 0&&{value:this.value}),this.slottedInputEl&&[...new Set([...Object.keys(t),...Object.keys(this.sharedProps)])].forEach(r=>{if(!(r in this.sharedProps))this.slottedInputEl.removeAttribute(r);else{const a=this.sharedProps[r]!==!0?this.sharedProps[r]:"";r==="value"?this.slottedInputEl.value=a:a===!1?this.slottedInputEl.removeAttribute(r):this.slottedInputEl.setAttribute(r,a)}})}componentWillLoad(){this.el.classList.add("preload"),this.autocompleteWatcher(this.autocomplete),this.registerSlottedInput(),this.updateSharedInputProps()}componentWillUpdate(){this.updateSharedInputProps()}componentDidLoad(){this.el.classList.remove("preload"),this.marketInputSearchDidLoad.emit()}render(){const t=this.compact&&this.focused,e=this.el.querySelector("input:focus")?-1:void 0,r=u("market-accessory");return i(c,{key:"2881ed02b65a35e173ab99a78cf40246ccb3f2a3",class:"market-input-search",onAnimationEnd:a=>this.handleAnimation(a),onAnimationStart:a=>this.handleAnimation(a),onBlur:()=>{var a;this.clearButtonClicked?((a=this.nativeInputEl)===null||a===void 0||a.focus(),this.clearButtonClicked=!1):this.setFocus(!1)},onClick:a=>{a.stopPropagation(),this.setFocus()},onFocus:()=>this.setFocus(),tabindex:e},i("button",{key:"02f3a0d11d2a016a91798bd9d05ab7fd76140d19",class:o("leading-accessory",{"is-back-icon":t}),"aria-label":this.searchIconButtonAriaLabel,onClick:a=>this.handleAccessoryClicked(a,t),"aria-hidden":t?"false":"true",tabindex:t?"0":"-1"},i("slot",{key:"746e27dfc26d3695e68603edb4ae7c9a60e9a184",name:"leading-accessory"},i(r,{key:"3eafc51e9b9954e3811f86db374ffe85a14fadb1",size:"icon",tabindex:"-1","aria-hidden":"true"},t?i("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.292894 7.29285C-0.0976308 7.68337 -0.0976307 8.31654 0.292894 8.70706L7.29289 15.7071L8.70711 14.2928L3.41421 8.99995L15 8.99995L15 6.99995L3.41421 6.99995L8.70711 1.70706L7.29289 0.292846L0.292894 7.29285Z"})):i("svg",{width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M7.49999 14.4998C9.06999 14.4998 10.52 13.9698 11.68 13.0998L15.79 17.2098L17.2 15.7998L13.09 11.6898C13.97 10.5198 14.49 9.07983 14.49 7.50983C14.49 3.64983 11.35 0.509827 7.48999 0.509827C3.62999 0.509827 0.48999 3.64983 0.48999 7.50983C0.48999 11.3698 3.63999 14.4998 7.49999 14.4998ZM7.49999 2.49983C10.26 2.49983 12.5 4.73983 12.5 7.49983C12.5 10.2598 10.26 12.4998 7.49999 12.4998C4.73999 12.4998 2.49999 10.2598 2.49999 7.49983C2.49999 4.73983 4.73999 2.49983 7.49999 2.49983Z"}))))),i("div",{key:"aac3c41e8c38b6fa54fa8a850af7ab8d3884bd58",class:"input-container"},i("slot",{key:"e1eef2c040fa9128dca072f9a301c8f2412cc5c8",name:"input",onSlotchange:()=>this.registerSlottedInput()},!this.slottedInputEl&&i("input",Object.assign({key:"e57afee61e8b2b843e1689957d81a21431f2db04","aria-label":this.inputAriaLabel,onInput:a=>this.handleValueChange(a),part:"native-input",ref:a=>this.nativeInputEl=a,type:"text"},this.sharedProps)))),i("slot",{key:"3d557f392dd4be5fc2ca07e3d20818c7dfd72da0",name:"trailing-accessory"}),i("button",{key:"3a5572f6125410993592ccc9a1dcf3fa4cf214b6","aria-label":this.clearButtonAriaLabel,class:o("clear-button",{hidden:!this.value||this.disabled}),onClick:this.handleClearButtonClicked.bind(this),tabindex:"0"},i("svg",{key:"5b6cbe00be2f1cb7d684462c7ca269fd468558c3",width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},i("path",{key:"38faeaa7327aa3a80e9821576a9ed85023188d10",d:"M1.71004 13.71L7.00004 8.41004L12.29 13.71L13.71 12.29L8.41004 7.00004L13.71 1.71004L12.29 0.290039L7.00004 5.59004L1.71004 0.290039L0.290039 1.71004L5.59004 7.00004L0.290039 12.29L1.71004 13.71Z"}))))}get el(){return l(this)}static get watchers(){return{focused:["focusedWatcher"],disabled:["disabledWatcher"],autocomplete:["autocompleteWatcher"]}}};m.style=p;export{m as market_input_search};
