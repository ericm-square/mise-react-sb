import{r as l,c as o,h as s,H as n,g as r}from"./preview-BLkU8-7b.js";import{a as d,o as h}from"./aria-e3448f41-DdEhA6ry.js";import{a as c}from"./autocomplete-b8a25110-BIVfrXbl.js";import{c as u}from"./classnames-84eaa2b2-DUfJYZCM.js";import{s as p}from"./forms-6e9919f9-DRYVCaDb.js";import"./jsx-runtime-qGIIFXMu.js";import"./index-CDs2tPxN.js";import"./iframe-BYgjunmg.js";import"../sb-preview/runtime.js";import"./tslib.es6-pJfR_DrR.js";const m=`:host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}:host{position:relative;outline:none;font-weight:var(--field-input-weight);font-size:var(--field-input-size);line-height:var(--field-input-leading);cursor:text}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){width:100%;margin:0;padding:0;border:none;background-color:transparent;color:inherit;font-weight:inherit;font-size:inherit;font-family:inherit;line-height:inherit;letter-spacing:inherit;cursor:inherit}:host ::slotted(label){cursor:inherit}:host input:focus,:host ::slotted(input:focus),:host textarea:focus,:host ::slotted(textarea:focus){outline:none}:host input::-moz-placeholder,:host textarea::-moz-placeholder{color:var(--field-placeholder-text-color)}:host input::placeholder,:host textarea::placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::-moz-placeholder,:host ::slotted(textarea)::-moz-placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::placeholder,:host ::slotted(textarea)::placeholder{color:var(--field-placeholder-text-color)}:host([size='small']){font-size:var(--core-type-paragraph-20-size);line-height:var(--core-type-paragraph-20-leading)}:host{border-radius:var(--field-border-radius);background-color:var(--field-normal-state-background-color);color:var(--field-normal-state-input-color)}:host::after{content:"";position:absolute;inset:0;border-radius:var(--field-border-radius);box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-normal-validity-border-color);pointer-events:none}:host([invalid])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-invalid-validity-border-color)}:host(:hover){background-color:var(--field-hover-state-background-color);color:var(--field-hover-state-input-color)}:host(:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-normal-validity-border-color)}:host([invalid]:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-invalid-validity-border-color)}:host([focused]){color:var(--field-focus-state-input-color)}:host([focused])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size)
        var(--field-focus-state-normal-validity-border-color)}:host([focused][invalid])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size) var(--field-focus-state-invalid-validity-border-color)}:host([disabled]){background-color:var(--field-disabled-state-background-color) !important;color:var(--field-disabled-state-input-color) !important;cursor:not-allowed !important}:host([disabled])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-disabled-state-border-color) !important}:host([disabled]) ::slotted(.market-accessory),:host([disabled]) ::slotted(img[slot*="accessory"]),:host([disabled]) ::slotted(svg[slot*="accessory"]),:host([disabled]) ::slotted(div[slot*="accessory"]){--field-disabled-state-accessory-opacity:var(--row-disabled-state-leading-accessory-opacity);opacity:var(--field-disabled-state-accessory-opacity)}:host([value=""]) ::slotted(label){color:var(--field-normal-state-empty-phase-label-color)}:host(:not([value=""])) ::slotted(label),:host([value=""][autofilled]) ::slotted(label){color:var(--field-normal-state-float-phase-label-color)}:host(:hover) ::slotted(label){color:var(--field-hover-state-empty-phase-label-color)}:host(:not([value=""]):hover) ::slotted(label),:host([value=""][autofilled]:hover) ::slotted(label){color:var(--field-hover-state-float-phase-label-color)}:host([focused]) ::slotted(label){color:var(--field-focus-state-float-phase-label-color)}:host([value=""][disabled]) ::slotted(label){color:var(--field-disabled-state-empty-phase-label-color)}:host(:not([value=""])[disabled]) ::slotted(label),:host([value=""][autofilled][disabled]) ::slotted(label){color:var(--field-disabled-state-float-phase-label-color)}:host{--field-accessory-horizontal-spacing-size:16px;--field-size-small-accessory-horizontal-spacing-size:12px;--field-size-large-image-accessory-outer-spacing-size:12px;--field-size-medium-image-accessory-outer-spacing-size:4px;--field-size-large-button-accessory-outer-spacing-size:12px;--field-size-medium-button-accessory-outer-spacing-size:4px;--field-size-large-tooltip-accessory-horizontal-spacing-size:5px;--field-size-large-tooltip-accessory-vertical-spacing-size:-1px;--field-size-small-tooltip-accessory-horizontal-spacing-size:1px}:host ::slotted([slot="leading-accessory"]){flex-shrink:0;margin-right:var(--field-accessory-horizontal-spacing-size);margin-left:var(--field-accessory-horizontal-spacing-size)}:host ::slotted(.market-accessory[slot="leading-accessory"][size="image"]){margin-left:var(--field-size-large-image-accessory-outer-spacing-size)}:host ::slotted(.market-tooltip[slot="leading-accessory"]){margin:var(--field-size-large-tooltip-accessory-vertical-spacing-size)
      var(--field-size-large-tooltip-accessory-horizontal-spacing-size)}:host ::slotted(.market-button[slot="leading-accessory"][size="small"]){margin-left:var(--field-size-large-button-accessory-outer-spacing-size)}:host ::slotted([slot="trailing-accessory"]){flex-shrink:0;margin-right:var(--field-accessory-horizontal-spacing-size);margin-left:var(--field-accessory-horizontal-spacing-size)}:host ::slotted(.market-accessory[slot="trailing-accessory"][size="image"]){margin-right:var(--field-size-large-image-accessory-outer-spacing-size)}:host ::slotted(.market-tooltip[slot="trailing-accessory"]){margin:var(--field-size-large-tooltip-accessory-vertical-spacing-size)
      var(--field-size-large-tooltip-accessory-horizontal-spacing-size)}:host ::slotted(.market-button[slot="trailing-accessory"][size="small"]){margin-right:var(--field-size-large-button-accessory-outer-spacing-size)}:host([size='medium']) ::slotted(.market-accessory[slot="leading-accessory"][size="image"]){margin-left:var(--field-size-medium-image-accessory-outer-spacing-size)}:host([size='medium']) ::slotted(.market-button[slot="leading-accessory"][size="small"]){margin-left:var(--field-size-medium-button-accessory-outer-spacing-size)}:host([size='medium']) ::slotted(.market-accessory[slot="trailing-accessory"][size="image"]){margin-right:var(--field-size-medium-image-accessory-outer-spacing-size)}:host([size='medium']) ::slotted(.market-button[slot="trailing-accessory"][size="small"]){margin-right:var(--field-size-medium-button-accessory-outer-spacing-size)}:host([size='small']) ::slotted([slot="leading-accessory"]),:host([size='small']) ::slotted([slot="trailing-accessory"]){margin-right:var(--field-size-small-accessory-horizontal-spacing-size);margin-left:var(--field-size-small-accessory-horizontal-spacing-size)}:host([size='small']) ::slotted(.market-tooltip[slot="leading-accessory"]),:host([size='small']) ::slotted(.market-tooltip[slot="trailing-accessory"]){margin-right:var(--field-size-small-tooltip-accessory-horizontal-spacing-size);margin-left:var(--field-size-small-tooltip-accessory-horizontal-spacing-size)}:host .label-input-container.has-leading-accessory{padding-left:0 !important;}:host .label-input-container.has-trailing-accessory{padding-right:0 !important;}:host{--field-input-animation-speed:0.2s;--field-input-label-translate:12px;--field-empty-phase-label-text-size-unitless:16;--field-float-phase-label-text-size-unitless:14;--field-size-medium-float-phase-vertical-padding-size:12px;--field-size-medium-float-phase-horizontal-padding-size:16px;--field-size-small-float-phase-vertical-padding-size:9px;--field-size-small-float-phase-horizontal-padding-size:12px;display:flex;align-items:center}:host .label-input-container,:host([value='']:not([focused]):not([autofilled])) .label-input-container{flex-grow:1;padding:var(--field-float-phase-vertical-padding-size) var(--field-float-phase-horizontal-padding-size)}:host([size='medium']) .label-input-container,:host([size='medium'][value='']:not([focused]):not([autofilled])) .label-input-container{padding:var(--field-size-medium-float-phase-vertical-padding-size)
      var(--field-size-medium-float-phase-horizontal-padding-size)}:host([size='small']) .label-input-container,:host([size='small'][value='']:not([focused]):not([autofilled])) .label-input-container{padding:var(--field-size-small-float-phase-vertical-padding-size)
      var(--field-size-small-float-phase-horizontal-padding-size)}:host ::slotted(label){display:block;min-height:var(--field-empty-phase-label-text-leading);font-weight:var(--field-empty-phase-label-text-weight);font-size:var(--field-empty-phase-label-text-size);line-height:var(--field-empty-phase-label-text-leading);letter-spacing:var(--field-empty-phase-label-text-tracking);transition:all var(--field-input-animation-speed);transform:translateY(var(--field-input-label-translate));transform-origin:0 0}:host(:not([value=""])) ::slotted(label),:host([value=""]:not([focused])[autofilled]) ::slotted(label),:host([focused]) ::slotted(label){font-weight:var(--field-float-phase-label-text-weight);transform:scale(
        calc(var(--field-float-phase-label-text-size-unitless) / var(--field-empty-phase-label-text-size-unitless))
      )}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){opacity:0%}:host([focused]) input,:host([focused]) ::slotted(input),:host([focused]) textarea,:host([focused]) ::slotted(textarea),:host(:not([value=''])) input,:host(:not([value=''])) ::slotted(input),:host(:not([value=''])) textarea,:host(:not([value=''])) ::slotted(textarea){opacity:100%}:host([size='small']) ::slotted(label),:host([size='medium']) ::slotted(label){position:absolute;overflow:hidden;clip:rect(0 0 0 0);width:1px;height:1px;white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host([size='small']) input,:host([size='small']) ::slotted(input),:host([size='small']) textarea,:host([size='small']) ::slotted(textarea),:host([size='medium']) input,:host([size='medium']) ::slotted(input),:host([size='medium']) textarea,:host([size='medium']) ::slotted(textarea){opacity:100%}:host input::-webkit-outer-spin-button,:host input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;appearance:none}:host input[type="number"]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}input[type="time"]::-webkit-inner-spin-button,input[type="time"]::-webkit-outer-spin-button,input[type="time"]::-webkit-clear-button,input[type="time"]::-webkit-calendar-picker-indicator{display:none}input[type="date"]::-webkit-calendar-picker-indicator,input[type="time"]::-webkit-calendar-picker-indicator{display:none}input[type="date"]::-webkit-inner-spin-button,input[type="time"]::-webkit-inner-spin-button,input[type="date"]::-webkit-clear-button,input[type="time"]::-webkit-clear-button{display:none;margin:0;-webkit-appearance:none;appearance:none}:host([value=""]) input,:host([value=""]) ::slotted(input){color:var(--field-placeholder-text-color)}:host input:-webkit-autofill,:host ::slotted(input:-webkit-autofill){animation-name:market-input-autofill-start;animation-duration:0.1ms}:host input:not(:-webkit-autofill),:host ::slotted(input:not(:-webkit-autofill)){animation-name:market-input-autofill-cancel;animation-duration:0.1ms}`,f=m,g=class{focusedChangeHandler(e){this.nativeInput&&(e?this.nativeInput.focus():this.nativeInput.blur())}autocompleteWatcher(e){this._autocomplete=c(e)}handleMarketDialogLoaded(){this.autofocus&&this.setFocus()}constructor(e){l(this,e),this.marketInputValueChange=o(this,"marketInputValueChange",7),this.marketInputDidLoad=o(this,"marketInputDidLoad",7),e.$hostElement$["s-ei"]?this.internals=e.$hostElement$["s-ei"]:(this.internals=e.$hostElement$.attachInternals(),e.$hostElement$["s-ei"]=this.internals),this.hasLeadingAccessory=!1,this.hasTrailingAccessory=!1,this.onMutationObserved=i=>{this.ariaAttributes=i},this.type="text",this.inputId=void 0,this.name=void 0,this.value="",this.placeholder=void 0,this.maxlength=void 0,this.minlength=void 0,this.size="large",this.step=void 0,this.min=void 0,this.max=void 0,this.pattern=void 0,this.required=void 0,this.readonly=!1,this.disabled=!1,this.focused=!1,this.invalid=!1,this.inputmode=void 0,this.autofocus=!1,this.autocomplete=!0,this.autovalidate=!1,this.autofilled=!1,this.ariaAttributes=void 0,this.handleInvalidSubmissionListener=this.handleSubmissionInvalid.bind(this)}connectedCallback(){this.el.addEventListener("invalid",this.handleInvalidSubmissionListener)}valueDidChange(e){this.marketInputValueChange.emit({value:e.target.value,originalEvent:e}).defaultPrevented?(e.target.value=this.value,e.preventDefault()):(this.value=e.target.value,this.updateElementInternals(),(this.autovalidate||this.validatingThroughSubmission)&&(this.invalid=!this.nativeInput.checkValidity())),this.autofilled=!1}handleAutofill(e){e.animationName==="market-input-autofill-start"?this.autofilled=!0:e.animationName==="market-input-autofill-cancel"&&!this.value&&(this.autofilled=!1)}handleKeyDown(e){e.key==="Enter"&&p(this.el)}handleSubmissionInvalid(e){e.preventDefault(),this.validatingThroughSubmission=!0,this.invalid=!this.nativeInput.checkValidity()}setFocus(e=!0){return this.readonly||this.disabled||(this.focused=e),Promise.resolve()}getInputElement(){return Promise.resolve(this.nativeInput)}registerSlottedInput(e){var i;return this.slottedInput=e||this.el.querySelector("input[slot=input]")||((i=this.el.getRootNode().host)===null||i===void 0?void 0:i.querySelector("input[slot=input]")),this.slottedInput&&(this.slottedInput.addEventListener("input",t=>this.valueDidChange(t)),this.slottedInput.addEventListener("focus",()=>this.setFocus()),this.slottedInput.addEventListener("blur",()=>this.focused=!1),this.slottedInput.addEventListener("animationstart",t=>this.handleAutofill(t)),this.nativeInput=this.slottedInput),Promise.resolve()}updateSharedInputProps(){const e=Object.assign({},this.sharedProps);this.sharedProps=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.inputId&&{id:this.inputId}),this.name&&{name:this.name}),this.type&&{type:this.type}),this.placeholder&&{placeholder:this.placeholder}),this.maxlength>=0&&{maxlength:this.maxlength}),this.minlength>=0&&{minlength:this.minlength}),this.step&&{step:this.step}),this.min&&{min:this.min}),this.max&&{max:this.max}),this.required&&{required:this.required}),this.pattern&&{pattern:this.pattern}),this.value!==void 0&&{value:this.value}),this.readonly&&{readonly:this.readonly}),this.required&&{required:this.required}),this.disabled&&{disabled:this.disabled}),this.autofocus&&{autofocus:this.autofocus}),this.inputmode&&{inputmode:this.inputmode}),this._autocomplete&&{autocomplete:this._autocomplete}),this.ariaAttributes),{"aria-label":d(this.el)}),this.slottedInput&&[...new Set([...Object.keys(e),...Object.keys(this.sharedProps)])].forEach(t=>{if(!(t in this.sharedProps))this.slottedInput.removeAttribute(t);else{const a=this.sharedProps[t]!==!0?this.sharedProps[t]:"";this.slottedInput.setAttribute(t,a)}})}updateElementInternals(){var e,i,t,a;this.internals&&((i=(e=this.internals).setFormValue)===null||i===void 0||i.call(e,this.value),this.nativeInput&&((a=(t=this.internals).setValidity)===null||a===void 0||a.call(t,this.nativeInput.validity,this.nativeInput.validationMessage)))}componentWillLoad(){this.hasLeadingAccessory=!![...this.el.children].some(e=>e.slot==="leading-accessory"),this.hasTrailingAccessory=!![...this.el.children].some(e=>e.slot==="trailing-accessory"),this.mutationObserver=h(this.el,this.onMutationObserved),this.registerSlottedInput(),this.autocompleteWatcher(this.autocomplete),this.updateSharedInputProps(),this.updateElementInternals()}componentDidLoad(){this.marketInputDidLoad.emit({input:this.nativeInput})}componentWillUpdate(){this.updateSharedInputProps(),this.updateElementInternals()}render(){return s(n,{key:"746a51cda37d367cb319daaa2263ee5d7cf5bea3",class:"market-input-text",onBlur:()=>{this.focused=!1},onClick:()=>{this.setFocus()},onFocus:()=>{this.setFocus()},onKeyDown:e=>{this.handleKeyDown(e)}},s("slot",{key:"7343970947aac4845e946418f18aa23ab4864c73",name:"leading-accessory"}),s("div",{key:"e004f2397fea6153a69a1066ef79a9bd2fc5ff66",class:u("label-input-container",{"has-leading-accessory":this.hasLeadingAccessory,"has-trailing-accessory":this.hasTrailingAccessory})},s("slot",{key:"8662756515726c36cc9f3927515426eac95a8a54"}),s("slot",{key:"1b3fe662e3ac4f7399f68de3d161cc0d430778e3",name:"input",onSlotchange:()=>this.registerSlottedInput()},!this.slottedInput&&s("input",Object.assign({key:"38756d0f97aa505773a36648c0e99bbfc5fb364d",part:"native-input",ref:e=>this.nativeInput=e,onInput:e=>this.valueDidChange(e),onAnimationStart:e=>this.handleAutofill(e)},this.sharedProps)))),s("slot",{key:"c0b0d07407f50664e4449e4a37491fb754beddb3",name:"trailing-accessory"}))}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),this.el.removeEventListener("invalid",this.handleInvalidSubmissionListener)}static get formAssociated(){return!0}get el(){return r(this)}static get watchers(){return{focused:["focusedChangeHandler"],autocomplete:["autocompleteWatcher"]}}};g.style=f;export{g as market_input_text};
