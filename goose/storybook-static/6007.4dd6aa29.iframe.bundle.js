"use strict";(self.webpackChunkmise_react=self.webpackChunkmise_react||[]).push([[6007],{"./node_modules/@market/web-components/dist/esm/market-code-input.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{market_code_input:()=>MarketCodeInput});var _index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@market/web-components/dist/esm/index-e03cb5c3.js");const MarketCodeInput=class{constructor(hostRef){(0,_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.marketCodeInputValueChange=(0,_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"marketCodeInputValueChange",7),this.type="number",this.name=void 0,this.length=4,this.focused=!1,this.value="",this.readonly=!1,this.invalid=!1,this.disabled=!1,this._code=void 0}valueChangeHandler(value){const sanitized=this.sanitizeValue(value);this.value!==sanitized&&(this.value=sanitized),this.setInputsFromValue(this.value)}setFocus(value=!0){var _a;return this.focused=value,value?this.focusFirstEmptyInput():null===(_a=this.el.shadowRoot.activeElement)||void 0===_a||_a.blur(),Promise.resolve()}isNumber(value){return/^\d+$/.test(value)}isValidChar(char){return!/\s/.test(char)&&(["text","password"].includes(this.type)||this.isNumber(char))}focusFirstEmptyInput(){const inputs=this.el.shadowRoot.querySelectorAll("input");let input;inputs.forEach((i=>{i.value||input||(input=i)})),input||(input=inputs[this.length-1]),input.focus()}initCode(value){if(value)if(this._code=value.split(""),this._code.length<this.length){const padding=Array.from({length:this.length-this._code.length}).fill("");this._code=[...this._code,...padding]}else this._code.length>this.length&&(this._code=this._code.slice(0,this.length));else this._code=Array.from({length:this.length}).fill("")}sanitizeValue(value){return value.split("").filter((char=>this.isValidChar(char))).join("").slice(0,this.length)}getValueFromInputs(){let value="";return this.el.shadowRoot.querySelectorAll("input").forEach((input=>{value+=input.value})),value}setInputsFromValue(value){this.el.shadowRoot.querySelectorAll("input").forEach(((input,i)=>{const char=value[i],prevChar=value[i-1];input.value=char||"",0===i||prevChar?input.removeAttribute("tabindex"):input.tabIndex=-1}))}spreadChars(e){const{target,data}=e,chars=data||target.value;if(!chars)return;const sanitized=this.sanitizeValue(chars);sanitized?this.insertChars(target,sanitized.split("")):target.value=""}insertChars(input,chars){const{nextElementSibling}=input,[first,...rest]=chars;input.value=first,null==nextElementSibling||nextElementSibling.focus(),nextElementSibling&&rest.length>0&&this.insertChars(nextElementSibling,rest)}updateValue(){const previousValue=this.value,newValue=this.sanitizeValue(this.getValueFromInputs());if(previousValue!==newValue){const{defaultPrevented}=this.marketCodeInputValueChange.emit({code:newValue});defaultPrevented?this.setInputsFromValue(previousValue):this.value=newValue}}onInput(e){this.spreadChars(e),this.updateValue()}onFocus(e){const{target}=e;this.focused=!0,target.value?target.select():this.focusFirstEmptyInput()}onBlur(){this.focused=!1}onKeyDown(e){const{target,key}=e,{value,previousElementSibling,nextElementSibling}=target;switch(key){case"ArrowLeft":e.preventDefault(),null==previousElementSibling||previousElementSibling.select();break;case"ArrowRight":e.preventDefault(),null==nextElementSibling||nextElementSibling.select();break;case"Backspace":value||null==previousElementSibling||previousElementSibling.select()}}onKeyUp(e){const{target}=e,{value}=target;value.length>1?this.spreadChars(e):this.isValidChar(value)||(target.value="",target.focus())}onHostClick(){this.el.shadowRoot.activeElement||this.setFocus()}componentWillLoad(){this.valueChangeHandler(this.value),this.initCode(this.value)}render(){const inputs=[];return this._code.forEach(((char,index)=>{const tabindex=this._code[index-1]||0===index?null:-1;inputs.push((0,_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{required:!0,type:"password"===this.type?"password":"text",inputmode:"number"===this.type?"numeric":null,autocomplete:0===index?"one-time-code":null,value:char,maxlength:index===this.length-1?"1":null,readOnly:this.readonly,disabled:this.disabled,placeholder:"●",tabindex,onFocus:e=>this.onFocus(e),onBlur:()=>this.onBlur(),onInput:e=>this.onInput(e),onKeyDown:e=>this.onKeyDown(e),onKeyUp:e=>this.onKeyUp(e)}))})),(0,_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.H,{key:"c11c05f9414698bd9d8f87b3e98adc021b233f1c",class:"market-code-input",name:this.name,onClick:()=>this.onHostClick()},(0,_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{key:"d3b5a43bb80ee199628650c96e6f9b17cf8fee88",class:"code-input-container"},inputs),(0,_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"8f0aa799fa46d759e6015488a07a2f6bb7c64669",name:"trailing-accessory"}))}get el(){return(0,_index_e03cb5c3_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}static get watchers(){return{value:["valueChangeHandler"]}}};MarketCodeInput.style=':host,::slotted(*),*{box-sizing:border-box}:host([disabled]){cursor:not-allowed !important;}:host([disabled]) *,:host([disabled]) ::slotted(*){cursor:not-allowed !important;pointer-events:none !important;}:host{position:relative;outline:none;font-weight:var(--field-input-weight);font-size:var(--field-input-size);line-height:var(--field-input-leading);cursor:text}:host input,:host ::slotted(input),:host textarea,:host ::slotted(textarea){width:100%;margin:0;padding:0;border:none;background-color:transparent;color:inherit;font-weight:inherit;font-size:inherit;font-family:inherit;line-height:inherit;letter-spacing:inherit;cursor:inherit}:host ::slotted(label){cursor:inherit}:host input:focus,:host ::slotted(input:focus),:host textarea:focus,:host ::slotted(textarea:focus){outline:none}:host input::-moz-placeholder,:host textarea::-moz-placeholder{color:var(--field-placeholder-text-color)}:host input::placeholder,:host textarea::placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::-moz-placeholder,:host ::slotted(textarea)::-moz-placeholder{color:var(--field-placeholder-text-color)}:host ::slotted(input)::placeholder,:host ::slotted(textarea)::placeholder{color:var(--field-placeholder-text-color)}:host([size=\'small\']){font-size:var(--core-type-paragraph-20-size);line-height:var(--core-type-paragraph-20-leading)}:host{border-radius:var(--field-border-radius);background-color:var(--field-normal-state-background-color);color:var(--field-normal-state-input-color)}:host::after{content:"";position:absolute;inset:0;border-radius:var(--field-border-radius);box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-normal-validity-border-color);pointer-events:none}:host([invalid])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-invalid-validity-border-color)}:host(:hover){background-color:var(--field-hover-state-background-color);color:var(--field-hover-state-input-color)}:host(:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-normal-validity-border-color)}:host([invalid]:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-hover-state-invalid-validity-border-color)}:host([focused]){color:var(--field-focus-state-input-color)}:host([focused])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size)\n        var(--field-focus-state-normal-validity-border-color)}:host([focused][invalid])::after{box-shadow:inset 0 0 0 var(--field-focus-state-border-size) var(--field-focus-state-invalid-validity-border-color)}:host([readonly]:hover)::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-normal-state-normal-validity-border-color)}:host([disabled]){background-color:var(--field-disabled-state-background-color) !important;color:var(--field-disabled-state-input-color) !important;cursor:not-allowed !important}:host([disabled])::after{box-shadow:inset 0 0 0 var(--field-border-size) var(--field-disabled-state-border-color) !important}:host([disabled]) ::slotted(.market-accessory),:host([disabled]) ::slotted(img[slot*="accessory"]),:host([disabled]) ::slotted(svg[slot*="accessory"]),:host([disabled]) ::slotted(div[slot*="accessory"]){--field-disabled-state-accessory-opacity:var(--row-disabled-state-leading-accessory-opacity);opacity:var(--field-disabled-state-accessory-opacity)}:host([value=""]) ::slotted(label){color:var(--field-normal-state-empty-phase-label-color)}:host(:not([value=""])) ::slotted(label),:host([value=""][autofilled]) ::slotted(label){color:var(--field-normal-state-float-phase-label-color)}:host(:hover) ::slotted(label){color:var(--field-hover-state-empty-phase-label-color)}:host(:not([value=""]):hover) ::slotted(label),:host([value=""][autofilled]:hover) ::slotted(label){color:var(--field-hover-state-float-phase-label-color)}:host([focused]) ::slotted(label){color:var(--field-focus-state-float-phase-label-color)}:host([value=""][disabled]) ::slotted(label){color:var(--field-disabled-state-empty-phase-label-color)}:host(:not([value=""])[disabled]) ::slotted(label),:host([value=""][autofilled][disabled]) ::slotted(label){color:var(--field-disabled-state-float-phase-label-color)}:host{display:flex;align-items:center;height:var(--input-code-height, 64px)}:host input{font-weight:var(--input-code-font-weight, var(--core-type-bold-weight));font-family:var(--core-type-mono-font-family, monospace);text-align:center}:host input:-webkit-autofill,:host input:-webkit-autofill:hover,:host input:-webkit-autofill:focus{box-shadow:0 0 0 calc(var(--input-code-height, 64px) / 2) var(--field-normal-state-background-color) inset}.code-input-container{display:flex;justify-content:center;width:100%;height:100%}.code-input-container::before,.code-input-container::after{content:"";flex-basis:100%;pointer-events:none}::slotted([slot="trailing-accessory"]){margin-right:var(--input-code-trailing-accessory-spacing, 12px)}input::-moz-placeholder{color:var(--input-code-placeholder-color, var(--core-fill-30-color));font-size:var(--input-code-placeholder-font-size, 24px)}input::placeholder{color:var(--input-code-placeholder-color, var(--core-fill-30-color));font-size:var(--input-code-placeholder-font-size, 24px)}'}}]);